(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1033:function(e,t,a){},1036:function(e,t,a){"use strict";var r=a(1033);a.n(r).a},196:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(4),i=a(10),o=a.n(i);t.a={AUTO_EXTENSION:{id:"auto",text:"Auto-detect",description:"This system will try to detect the file type automatically. If your file is not detected properly as one of the known formats, it most likely means that it has some format problems (e.g., different number of columns on different rows). You can still coerce the system to set your data to the format you think it should be.  You can also upload compressed files, which will automatically be decompressed."},DEFAULT_GENOME:"?",DEFAULT_EXTENSION:"auto",getRemoteFiles:function(e,t){return n.a.ajax({url:"".concat(Object(l.getAppRoot)(),"api/remote_files"),method:"GET",success:e,error:t})},getUploadDatatypes:function(e,t,a){var r="".concat(Object(l.getAppRoot)(),"api/datatypes?extension_only=False");o.a.get(r).then((function(r){var n=r.data,l=[];for(var i in n)l.push({id:n[i].extension,text:n[i].extension,description:n[i].description,description_url:n[i].description_url,composite_files:n[i].composite_files});l.sort((function(e,t){var a=e.text&&e.text.toLowerCase(),r=t.text&&t.text.toLowerCase();return a>r?1:a<r?-1:0})),t||l.unshift(a),e(l)})).catch((function(e){console.log(e)}))},getUploadGenomes:function(e,t){var a="".concat(Object(l.getAppRoot)(),"api/genomes");o.a.get(a).then((function(a){var r=a.data,n=[];for(var l in r)n.push({id:r[l][1],text:r[l][0]});n.sort((function(e,a){return e.id==t?-1:a.id==t?1:e.text>a.text?1:e.text<a.text?-1:0})),e(n)})).catch((function(e){console.log(e)}))}}},469:function(e,t,a){var r={"./af":271,"./af.js":271,"./ar":272,"./ar-dz":273,"./ar-dz.js":273,"./ar-kw":274,"./ar-kw.js":274,"./ar-ly":275,"./ar-ly.js":275,"./ar-ma":276,"./ar-ma.js":276,"./ar-sa":277,"./ar-sa.js":277,"./ar-tn":278,"./ar-tn.js":278,"./ar.js":272,"./az":279,"./az.js":279,"./be":280,"./be.js":280,"./bg":281,"./bg.js":281,"./bm":282,"./bm.js":282,"./bn":283,"./bn.js":283,"./bo":284,"./bo.js":284,"./br":285,"./br.js":285,"./bs":286,"./bs.js":286,"./ca":287,"./ca.js":287,"./cs":288,"./cs.js":288,"./cv":289,"./cv.js":289,"./cy":290,"./cy.js":290,"./da":291,"./da.js":291,"./de":292,"./de-at":293,"./de-at.js":293,"./de-ch":294,"./de-ch.js":294,"./de.js":292,"./dv":295,"./dv.js":295,"./el":296,"./el.js":296,"./en-SG":297,"./en-SG.js":297,"./en-au":298,"./en-au.js":298,"./en-ca":299,"./en-ca.js":299,"./en-gb":300,"./en-gb.js":300,"./en-ie":301,"./en-ie.js":301,"./en-il":302,"./en-il.js":302,"./en-nz":303,"./en-nz.js":303,"./en-sg":304,"./en-sg.js":304,"./eo":305,"./eo.js":305,"./es":306,"./es-do":307,"./es-do.js":307,"./es-us":308,"./es-us.js":308,"./es.js":306,"./et":309,"./et.js":309,"./eu":310,"./eu.js":310,"./fa":311,"./fa.js":311,"./fi":312,"./fi.js":312,"./fo":313,"./fo.js":313,"./fr":314,"./fr-ca":315,"./fr-ca.js":315,"./fr-ch":316,"./fr-ch.js":316,"./fr.js":314,"./fy":317,"./fy.js":317,"./ga":318,"./ga.js":318,"./gd":319,"./gd.js":319,"./gl":320,"./gl.js":320,"./gom-latn":321,"./gom-latn.js":321,"./gu":322,"./gu.js":322,"./he":323,"./he.js":323,"./hi":324,"./hi.js":324,"./hr":325,"./hr.js":325,"./hu":326,"./hu.js":326,"./hy-am":327,"./hy-am.js":327,"./id":328,"./id.js":328,"./is":329,"./is.js":329,"./it":330,"./it-ch":331,"./it-ch.js":331,"./it.js":330,"./ja":332,"./ja.js":332,"./jv":333,"./jv.js":333,"./ka":334,"./ka.js":334,"./kk":335,"./kk.js":335,"./km":336,"./km.js":336,"./kn":337,"./kn.js":337,"./ko":338,"./ko.js":338,"./ku":339,"./ku.js":339,"./ky":340,"./ky.js":340,"./lb":341,"./lb.js":341,"./lo":342,"./lo.js":342,"./lt":343,"./lt.js":343,"./lv":344,"./lv.js":344,"./me":345,"./me.js":345,"./mi":346,"./mi.js":346,"./mk":347,"./mk.js":347,"./ml":348,"./ml.js":348,"./mn":349,"./mn.js":349,"./mr":350,"./mr.js":350,"./ms":351,"./ms-my":352,"./ms-my.js":352,"./ms.js":351,"./mt":353,"./mt.js":353,"./my":354,"./my.js":354,"./nb":355,"./nb.js":355,"./ne":356,"./ne.js":356,"./nl":357,"./nl-be":358,"./nl-be.js":358,"./nl.js":357,"./nn":359,"./nn.js":359,"./pa-in":360,"./pa-in.js":360,"./pl":361,"./pl.js":361,"./pt":362,"./pt-br":363,"./pt-br.js":363,"./pt.js":362,"./ro":364,"./ro.js":364,"./ru":365,"./ru.js":365,"./sd":366,"./sd.js":366,"./se":367,"./se.js":367,"./si":368,"./si.js":368,"./sk":369,"./sk.js":369,"./sl":370,"./sl.js":370,"./sq":371,"./sq.js":371,"./sr":372,"./sr-cyrl":373,"./sr-cyrl.js":373,"./sr.js":372,"./ss":374,"./ss.js":374,"./sv":375,"./sv.js":375,"./sw":376,"./sw.js":376,"./ta":377,"./ta.js":377,"./te":378,"./te.js":378,"./tet":379,"./tet.js":379,"./tg":380,"./tg.js":380,"./th":381,"./th.js":381,"./tl-ph":382,"./tl-ph.js":382,"./tlh":383,"./tlh.js":383,"./tr":384,"./tr.js":384,"./tzl":385,"./tzl.js":385,"./tzm":386,"./tzm-latn":387,"./tzm-latn.js":387,"./tzm.js":386,"./ug-cn":388,"./ug-cn.js":388,"./uk":389,"./uk.js":389,"./ur":390,"./ur.js":390,"./uz":391,"./uz-latn":392,"./uz-latn.js":392,"./uz.js":391,"./vi":393,"./vi.js":393,"./x-pseudo":394,"./x-pseudo.js":394,"./yo":395,"./yo.js":395,"./zh-cn":396,"./zh-cn.js":396,"./zh-hk":397,"./zh-hk.js":397,"./zh-tw":398,"./zh-tw.js":398};function n(e){var t=l(e);return a(t)}function l(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=469},470:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(1),i=a.n(l),o=a(4),s=a(5),u=a(67),c=a(10),d=a.n(c),p=a(2),m=a.n(p),v=a(1025),h=a.n(v),f=a(196),g=a(70),y=a(72),_=a(11),b=a(18),C=a(509),T={components:{Select2:C.a},data:function(){return{l:m.a}},props:{target:{required:!0},label:{required:!1,type:String,default:m()("From Column")},help:{required:!1},colHeaders:{type:Array,required:!0},multiple:{type:Boolean,required:!1,default:!1},ordered:{type:Boolean,required:!1,default:!1},valueAsList:{type:Boolean,required:!1,default:!1},orderedEdit:{type:Boolean,required:!1,default:!1}},computed:{remainingHeaders:function(){var e=this.colHeaders;if(!this.multiple)return e;var t={};for(var a in e)-1===this.target.indexOf(parseInt(a))&&(t[a]=e[a]);return t},title:function(){return m()("Select a column")}},methods:{handleInput:function(e){if(this.multiple){var t=e.map((function(e){return parseInt(e)}));this.$emit("update:target",t)}else{var a=parseInt(e);this.valueAsList&&(a=[a]),this.$emit("update:target",a)}},handleAdd:function(e){this.target.push(parseInt(e)),this.$emit("update:orderedEdit",!1)},handleRemove:function(e){this.target.splice(e,1)},moveUp:function(e){var t=this.target[e-1];_.default.set(this.target,e-1,this.target[e]),_.default.set(this.target,e,t)}}},x=a(6),w=Object(x.a)(T,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.multiple&&e.ordered?a("div",{staticClass:"rule-column-selector"},[a("span",[e._v(e._s(e.label))]),e._v(" "),e._t("default"),e._v(" "),a("ol",[e._l(e.target,(function(t,r){return a("li",{key:t,staticClass:"rule-column-selector-target",attrs:{index:r}},[e._v("\n            "+e._s(e.colHeaders[t])+"\n            "),a("span",{staticClass:"fa fa-times rule-column-selector-target-remove",on:{click:function(t){return e.handleRemove(r)}}}),e._v(" "),0!==r?a("span",{staticClass:"fa fa-arrow-up rule-column-selector-up",on:{click:function(t){return e.moveUp(r)}}}):e._e(),e._v(" "),r<e.target.length-1?a("span",{staticClass:"fa fa-arrow-down rule-column-selector-down",on:{click:function(t){return e.moveUp(r+1)}}}):e._e()])})),e._v(" "),this.target.length<this.colHeaders.length?a("li",[e.orderedEdit?a("span",{staticClass:"rule-column-selector-target-select"},[a("select2",{attrs:{placeholder:"Select a column"},on:{input:e.handleAdd}},[a("option"),e._v(" "),e._l(e.remainingHeaders,(function(t,r){return a("option",{key:t,domProps:{value:r}},[e._v(e._s(t))])}))],2)],1):a("span",{staticClass:"rule-column-selector-target-add"},[a("i",{on:{click:function(t){return e.$emit("update:orderedEdit",!0)}}},[e._v("... "+e._s(e.l("Assign Another Column")))])])]):e._e()],2)],2):a("div",{staticClass:"rule-column-selector"},[a("label",{staticClass:"d-flex justify-content-end align-items-center"},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-auto",attrs:{title:e.help}},[e._v(e._s(e.label))]),e._v(" "),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:e.title}},[a("select2",{attrs:{value:e.target,multiple:e.multiple},on:{input:e.handleInput}},e._l(e.colHeaders,(function(t,r){return a("option",{key:t,domProps:{value:r}},[e._v(e._s(t))])})),0)],1),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null).exports,R={props:{target:{required:!0}},computed:{label:function(){return m()("Regular Expression")},title:function(){return m()("Enter a regular expression.")},popoverTitle:function(){return m()("Regular Expressions")},popoverContent:function(){return m()('Regular expressions are patterns used to match character combinations in strings. This input accepts Python-style regular expressions, find more information about these in <a href="https://pythonforbiologists.com/regular-expressions/">this Python for Biologists tutorial</a>.')}}},j=Object(x.a)(R,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{for:"regular_expression",title:e.title}},[e._v(e._s(e.label))]),e._v(" "),a("span",{directives:[{name:"b-popover",rawName:"v-b-popover.html",value:e.popoverContent,expression:"popoverContent",modifiers:{html:!0}}],staticClass:"fa fa-question",attrs:{title:e.popoverTitle}}),e._v(" "),a("input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"rule-regular-expression",attrs:{title:e.title,name:"regular_expression",type:"text"},domProps:{value:e.target},on:{input:function(t){return e.$emit("update:target",t.target.value)}}})])}),[],!1,null,null,null).exports,S=y.a.RULES,F={props:{rule:{required:!0,type:Object},colHeaders:{type:Array,required:!0}},computed:{title:function(){var e=this.rule.type;return S[e].display(this.rule,this.colHeaders)},editTitle:function(){return m()("Edit this rule.")},removeTitle:function(){return m()("Remove this rule.")}},methods:{edit:function(){this.$emit("edit")},remove:function(){this.$emit("remove")}}},k=Object(x.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"rule"},[a("span",{staticClass:"rule-display"},[a("span",{staticClass:"mr-1"},[e._v(e._s(e.title))]),e._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-edit mr-1",attrs:{title:e.editTitle},on:{click:e.edit}}),e._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times map",attrs:{title:e.removeTitle},on:{click:e.remove}})]),e._v(" "),e.rule.warn?a("span",{staticClass:"rule-warning"},[e._v("\n        "+e._s(e.rule.warn)+"\n    ")]):e._e(),e._v(" "),e.rule.error?a("span",{staticClass:"rule-error"},[a("span",{staticClass:"alert-message"},[e._v(e._s(e.rule.error))])]):e._e()])}),[],!1,null,null,null).exports,E=y.a.MAPPING_TARGETS,N={props:{type:{type:String,required:!0},columns:{required:!0},colHeaders:{type:Array,required:!0}},methods:{remove:function(){this.$emit("remove")},edit:function(){this.$emit("edit")}},computed:{typeDisplay:function(){return E[this.type].label},help:function(){return E[this.type].help||""},titleEdit:function(){return m()("Edit column definition")},titleRemove:function(){return m()("Remove this column definition")},columnsLabel:function(){return y.a.columnDisplay(this.columns,this.colHeaders)}}},A=Object(x.a)(N,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"rule"},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.help}},[e._v("Set "+e._s(e.columnsLabel)+" as "+e._s(e.typeDisplay))]),e._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-edit",attrs:{title:e.titleEdit},on:{click:e.edit}}),e._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times",attrs:{title:e.titleRemove},on:{click:e.remove}})])}),[],!1,null,null,null).exports,I=y.a.RULES,D={props:{ruleType:{type:String,required:!0},builder:{required:!0}},computed:{linkClassName:function(){return"rule-link-"+this.ruleType.replace(/_/g,"-")},title:function(){return I[this.ruleType].title}}},O=Object(x.a)(D,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"rule-link dropdown-item",class:e.linkClassName,attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.builder.addNewRule(e.ruleType)}}},[e._v(e._s(e.title))])}),[],!1,null,null,null).exports,M={data:function(){return{applyLabel:m()("Apply"),cancelLabel:m()("Cancel")}},props:{ruleType:{type:String,required:!0},displayRuleType:{required:!0},builder:{required:!0}},methods:{cancel:function(){this.builder.displayRuleType=null},okay:function(){this.builder.handleRuleSave(this.ruleType),this.cancel()}},computed:{typeToClass:function(){return"rule-edit-"+this.ruleType.replace(/_/g,"-")}}},P=Object(x.a)(M,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ruleType==e.displayRuleType?a("div",{staticClass:"rule-editor",class:e.typeToClass},[e._t("default"),e._v(" "),a("div",{staticClass:"buttons rule-edit-buttons d-flex justify-content-end"},[a("button",{staticClass:"btn rule-editor-cancel mr-1",attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.cancelLabel))]),e._v(" "),a("button",{staticClass:"btn btn-primary rule-editor-ok",attrs:{type:"button"},on:{click:e.okay}},[e._v(e._s(e.applyLabel))])])],2):e._e()}),[],!1,null,null,null).exports,H=Object(x.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"header flex-row no-flex"},[this._t("default")],2)}),[],!1,null,null,null).exports,V=Object(x.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"middle flex-row flex-row-container"},[this._t("default")],2)}),[],!1,null,null,null).exports,q=Object(x.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rule-footer footer flex-row no-flex"},[this._t("inputs"),this._v(" "),t("div",{staticClass:"actions clear vertically-spaced"},[t("div",{staticClass:"main-options float-right"},[this._t("default")],2)])],2)}),[],!1,null,null,null).exports,G=Object(x.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"rule-collection-creator collection-creator flex-row-container"},[this._t("default")],2)}),[],!1,null,null,null).exports;_.default.use(b.a);var U=y.a.RULES,$=y.a.MAPPING_TARGETS,L={data:function(){var e,t,a="vertical";if(this.initialRules)e=this.initialRules.mapping.slice(),t=this.initialRules.rules.slice();else if(e="ftp"==this.elementsType?[{type:"ftp_path",columns:[0]}]:"datasets"==this.elementsType?[{type:"list_identifiers",columns:[1]}]:[],t=[],"collection_contents"==this.elementsType)if(null!==this.initialElements){var r=this.initialElements.collection_type.split(":");for(var n in r)t.push({type:"add_column_metadata",value:"identifier"+n})}else a="horizontal",t.push({type:"add_column_metadata",value:"identifier0"});else"datasets"==this.elementsType?t.push({type:"add_column_metadata",value:"hid"},{type:"add_column_metadata",value:"name"}):"library_datasets"==this.elementsType?t.push({type:"add_column_metadata",value:"name"}):"ftp"==this.elementsType&&t.push({type:"add_column_metadata",value:"path"});return{rules:t,mapping:e,state:"build",ruleView:"normal",ruleSource:"",ruleSourceJson:null,ruleSourceError:null,errorMessage:"",jaggedData:!1,waitingJobState:"new",titleReset:m()("Undo all reordering and discards"),titleNumericSort:m()("By default columns will be sorted lexicographically, check this option if the columns are numeric values and should be sorted as numbers"),titleInvertFilterRegex:m()("Remove rows not matching the specified regular expression at specified column"),titleInvertFilterEmpty:m()("Remove rows that have non-empty values at specified column"),titleInvertFilterMatches:m()("Remove rows not matching supplied value"),titleViewSource:m()("Advanced Option: View and or edit the JSON representation of the rules to apply to this tabular data"),titleSourceCancel:m()("Stop editing rules and dismiss changes"),titleSourceReset:m()("Reset text area to current set of rules"),titleSourceApply:m()("Apply changes to rule source and return to rule preview"),titleRulesMenu:m()("General rules to apply"),titleFilterMenu:m()("Rules that filter rows from the data"),titleColumMenu:m()("Rules that generate new columns"),titleRemoveMapping:m()("Remove column definition assignment"),titleApplyColumnDefinitions:m()("Apply these column definitions and return to rules preview"),titleErrorOkay:m()("Dismiss this error and return to the rule builder to try again with new rules"),namePlaceholder:m()("Enter a name for your new collection"),activeRuleIndex:null,addColumnRegexTarget:0,addColumnBasenameTarget:0,addColumnRegexExpression:"",addColumnRegexReplacement:null,addColumnRegexGroupCount:null,addColumnRegexType:"global",addColumnMetadataValue:0,addColumnGroupTagValueValue:"",addColumnGroupTagValueDefault:"",addColumnConcatenateTarget0:0,addColumnConcatenateTarget1:0,addColumnRownumStart:1,addColumnSubstrTarget:0,addColumnSubstrType:"keep_prefix",addColumnSubstrLength:1,addColumnValue:"",removeColumnTargets:[],addFilterRegexTarget:0,addFilterRegexExpression:"",addFilterRegexInvert:!1,addFilterMatchesTarget:0,addFilterMatchesValue:"",addFilterMatchesInvert:!1,addFilterEmptyTarget:0,addFilterEmptyInvert:!1,addFilterCompareTarget:0,addFilterCompareValue:0,addFilterCompareType:"less_than",addFilterCountN:1,addFilterCountInvert:!1,addFilterCountWhich:"first",addSortingTarget:0,addSortingNumeric:!1,splitColumnsTargets0:[],splitColumnsTargets1:[],swapColumnsTarget0:0,swapColumnsTarget1:0,collectionName:"",displayRuleType:null,extensions:[],extension:null,genomes:[],genome:null,hideSourceItems:this.defaultHideSourceItems,addNameTag:!1,orientation:a}},props:{initialElements:{required:!0},importType:{type:String,required:!1,default:"collections"},elementsType:{type:String,required:!1,default:"datasets"},creationFn:{required:!1,type:Function},saveRulesFn:{required:!1,type:Function},initialRules:{required:!1,type:Object},defaultHideSourceItems:{type:Boolean,required:!1,default:!0},oncancel:{required:!0,type:Function},oncreate:{required:!0,type:Function},ftpUploadSite:{type:String,required:!1,default:null}},computed:{exisistingDatasets:function(){var e=this.elementsType;return"datasets"===e||"collection_contents"===e||"library_datasets"===e},showFileTypeSelector:function(){return!this.exisistingDatasets&&!this.mappingAsDict.file_type},showGenomeSelector:function(){return!this.exisistingDatasets&&!this.mappingAsDict.dbkey},showCollectionNameInput:function(){return"collections"==this.importType&&"collection_contents"!=this.elementsType&&!this.mappingAsDict.collection_name},showAddNameTag:function(){return"collections"==this.importType&&"collection_contents"!=this.elementsType},titleFinish:function(){return"datasets"==this.elementsType||"library_datasets"==this.elementsType?m()("Create new collection from specified rules and datasets"):"collection_contents"==this.elementsType?m()("Save rules and return to tool form"):m()("Upload collection using specified rules")},titleCancel:function(){return"datasets"==this.importType?m()("Close this modal and do not upload any datasets"):m()("Close this modal and do not create any collections")},finishButtonTitle:function(){return"datasets"==this.elementsType||"library_datasets"==this.elementsType?m()("Create"):"collection_contents"==this.elementsType?m()("Save"):m()("Upload")},hasActiveMappingEdit:function(){return i.a.any(i.a.values(this.mapping),(function(e){return e.editing}))},activeRule:function(){return null!==this.activeRuleIndex&&this.rules[this.activeRuleIndex]},activeRuleColHeaders:function(){return null!==this.activeRuleIndex&&this.colHeadersPerRule[this.activeRuleIndex]||this.colHeaders},horizontal:function(){return"horizontal"==this.orientation},vertical:function(){return"vertical"==this.orientation},mappedTargets:function(){var e=[],t=!0,a=!1,r=void 0;try{for(var n,l=this.mapping[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var i=n.value;e.push(i.type)}}catch(e){a=!0,r=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw r}}return e},unmappedTargets:function(){var e=[],t=this.mappedTargets;for(var a in $){var r=$[a].modes;if(!(r&&r.indexOf(this.elementsType)<0)){var n=$[a],l=n.importType;l&&this.importType!=l||!this.ftpUploadSite&&n.requiresFtp||t.indexOf(a)<0&&e.push(a)}}return e},colHeaders:function(){var e=this.hotData,t=e.data,a=e.columns;return y.a.colHeadersFor(t,a)},colHeadersDisplay:function(){var e=[];for(var t in this.colHeaders){var a=this.colHeaders[t];e[t]="<b>".concat(i.a.escape(a),"</b>");var r=[],n=!0,l=!1,o=void 0;try{for(var s,u=this.mapping[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;if(-1!==c.columns.indexOf(parseInt(t))){var d=$[c.type];r.push("<i>".concat(i.a.escape(d.columnHeader||d.label),"</i>"))}}}catch(e){l=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(l)throw o}}1==r.length?e[t]+=" (".concat(r[0],")"):r.length>1&&(e[t]+=" (".concat([r.slice(0,-1).join(", "),r.slice(-1)[0]].join(" & "),")"))}return e},mappingAsDict:function(){var e={},t=!0,a=!1,r=void 0;try{for(var n,l=this.mapping[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var i=n.value;e[i.type]=i}}catch(e){a=!0,r=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw r}}return e},metadataOptions:function(){var e={};if("collection_contents"==this.elementsType){var t=(this.initialElements?this.initialElements.collection_type:"list:list:list:paired").split(":");for(var a in t){var r=t[a];e["identifier"+a]="list"==r?m()("List Identifier ")+(parseInt(a)+1):m()("Paired Identifier")}e.tags=m()("Tags")}else"ftp"==this.elementsType?e.path=m()("Path"):"library_datasets"==this.elementsType?e.name=m()("Name"):"datasets"==this.elementsType?(e.hid=m()("History ID (hid)"),e.name=m()("Name")):e=null;return e},hasTagsMetadata:function(){return"collection_contents"==this.elementsType},collectionType:function(){var e=[];this.mappingAsDict.list_identifiers&&(e=this.mappingAsDict.list_identifiers.columns);var t=e.map((function(e){return"list"})).join(":");return this.mappingAsDict.paired_identifier&&(t?t+=":paired":t="paired"),t},validInput:function(){var e=this.identifierColumns(),t=this.mappingAsDict,a="collections"==this.importType,r=!0;a&&"collection_contents"!=this.elementsType&&!t.collection_name&&(r=this.collectionName.length>0),t.ftp_path&&t.url&&(r=!1),!("ftp"==this.elementsType||"raw"==this.elementsType)||t.ftp_path||t.url||(r=!1);var n=!0,l=!1,i=void 0;try{for(var o,s=this.rules[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.error&&(r=!1)}}catch(e){l=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(l)throw i}}return a&&0==e.length&&(r=!1),r},hotData:function(){var e,t,a;if("datasets"==this.elementsType||"library_datasets"==this.elementsType||"ftp"==this.elementsType)e=(t=this.initialElements.slice()).map((function(e){return[]})),a=[];else if("collection_contents"==this.elementsType){var r=this.initialElements;if(r){var n=this.populateElementsFromCollectionDescription(r.elements,r.collection_type);e=n.data,t=n.sources,a=[]}else e=[],t=[],a=[]}else t=(e=this.initialElements.slice()).map((function(e){return null})),a=[],this.initialElements&&this.initialElements[0].forEach((function(){return a.push("new")}));return y.a.applyRules(e,t,a,this.rules)},colHeadersPerRule:function(){return this.hotData.colHeadersPerRule}},methods:{l:function(e){return m()(e)},cancel:function(){this.oncancel()},mappingTargets:function(){return $},resetRules:function(){this.rules.splice(0,this.rules.length),this.mapping.splice(0,this.mapping.length)},resetRulesAndState:function(){this.resetRules(),this.state="build",this.errorMessage="",this.collectionName=""},addNewRule:function(e){U[e].init(this),this.displayRuleType=e,this.activeRuleIndex=null},handleRuleSave:function(e){var t=this.activeRule;if(t)U[e].save(this,t);else{var a={type:e};U[e].save(this,a),this.rules.push(a)}},viewSource:function(){this.resetSource(),this.ruleView="source"},resetSource:function(){var e={rules:this.rules,mapping:this.mapping};this.exisistingDatasets||(this.extension!==f.a.DEFAULT_EXTENSION&&(e.extension=this.extension),this.genome!==f.a.DEFAULT_GENOME&&(e.genome=this.genome)),this.ruleSourceJson=e,this.ruleSource=JSON.stringify(e,(function(e,t){if("error"!=e&&"warn"!=e)return t}),"  "),this.ruleSourceError=null},attemptRulePreview:function(){var e;this.ruleSourceError=null;try{e=JSON.parse(this.ruleSource)}catch(e){return void(this.ruleSourceError="Problem parsing your rules.")}this.updateFromSource(e),this.ruleView="normal"},cancelSourceEdit:function(){this.ruleSourceError=null,this.ruleView="normal"},updateFromSource:function(e){this.resetRules(),e.extension&&(this.extension=e.extension),e.genome&&(this.genome=e.genome),e.rules&&(this.rules=e.rules),e.mapping&&(this.mapping=e.mapping)},addIdentifier:function(e){var t=this.mappingTargets()[e].multiple,a=t?[]:[0];this.mapping.push({type:e,columns:a,editing:t})},editRule:function(e,t){var a=e.type;this.activeRuleIndex=t,U[a].init(this,e),this.displayRuleType=a},removeRule:function(e){this.rules.splice(e,1)},removeMapping:function(e){this.mapping.splice(e,1)},refreshAndWait:function(e){var t=Object(s.a)();t&&t.currHistoryPanel&&t.currHistoryPanel.refreshContents(),this.waitOnJob(e)},waitOnJob:function(e){var t=this,a=e.data.jobs[0].id,r=function(e){var r=e.data.state;if(t.waitingJobState=r,-1!==g.a.NON_TERMINAL_STATES.indexOf(r))setTimeout(n,1e3);else if(-1!==g.a.ERROR_STATES.indexOf(r))t.state="error",t.errorMessage="Unknown error encountered while running your upload job, this could be a server issue or a problem with the upload definition.",t.doFullJobCheck(a);else{var l=Object(s.a)();(l&&l.currHistoryPanel&&l.currHistoryPanel.model).refresh(),t.oncreate()}},n=function(){d.a.get("".concat(Object(o.getAppRoot)(),"api/jobs/").concat(a)).then(r).catch(t.renderFetchError)};setTimeout(n,1e3)},doFullJobCheck:function(e){var t=this;d.a.get("".concat(Object(o.getAppRoot)(),"api/jobs/").concat(e,"?full=True")).then((function(e){var a=e.data.stderr;if(a){var r="An error was encountered while running your upload job. ";a.indexOf("binary file contains inappropriate content")>-1&&(r+="The problem may be that the batch uploader will not automatically decompress your files the way the normal uploader does, please specify a correct extension or upload decompressed data."),r+="Upload job completed with standard error: "+a,t.errorMessage=r}})).catch(this.renderFetchError)},renderFetchError:function(e){this.state="error",e.response?(console.log(e.response),this.errorMessage=e.response.data.err_msg):(console.log(e),this.errorMessage="Unknown error encountered: "+e)},swapOrientation:function(){this.orientation="horizontal"==this.orientation?"vertical":"horizontal";var e=this.$refs.hotTable.table;"horizontal"==this.orientation?this.$nextTick((function(){var t=n()(".rule-builder-body").width();e.updateSettings({width:t})})):this.$nextTick((function(){var t=n()(".rule-builder-body").width();e.updateSettings({width:t-270})}))},createCollection:function(){var e=this;this.state="wait";var t=this.collectionName,a=this.collectionType;if("datasets"==this.elementsType||"library_datasets"==this.elementsType){var r=this.creationElementsFromDatasets();"error"!==this.state&&new u.a.AjaxQueue(i.a.map(r,(function(t,r){return function(){return e.creationFn(t,a,r,e.hideSourceItems)}}))).done(this.oncreate).fail(this.renderFetchError)}else if("collection_contents"==this.elementsType)this.resetSource(),"error"!==this.state&&(this.saveRulesFn(this.ruleSourceJson),this.oncreate());else{var n,l=Object(s.a)().currHistoryPanel.model.id;if(a){n=[];var c=this.creationElementsForFetch();for(var p in c){var m={destination:{type:"hdca"},elements:c[p],collection_type:a,name:p};this.addNameTag&&(m.tags=["name:"+p]),n.push(m)}}else n=[{destination:{type:"hdas"},elements:this.creationDatasetsForFetch(),name:t}];"error"!==this.state&&d.a.post("".concat(Object(o.getAppRoot)(),"api/tools/fetch"),{history_id:l,targets:n,auto_decompress:!0}).then(this.refreshAndWait).catch(this.renderFetchError)}},identifierColumns:function(){var e=this.mappingAsDict,t=[];return e.list_identifiers&&(t=e.list_identifiers.columns.slice()),this.mappingAsDict.paired_identifier&&t.push(this.mappingAsDict.paired_identifier.columns[0]),t},buildRequestElements:function(e,t,a){var r=this.hotData.data,n=this.identifierColumns();if(!(n.length<1)){var l=n.length,i=this.collectionType,o={},s={},u=this.mappingAsDict.collection_name;if(u){var c=u.columns[0];for(var d in r){var p=r[d],m=p[c];s[m]||(s[m]={}),s[m][d]=p}}else s[this.collectionName]=r;for(var v in s){var h=[],f=[];for(var g in s[v])for(var y=r[g],_=i,b=h,C=f,T=0;T<l;T++){var x=String(y[n[T]]);if(T+1==l){if("paired"===_)if(["f","1","r1","forward"].indexOf(x.toLowerCase())>-1)x="forward";else{if(!(["r","2","r2","reverse"].indexOf(x.toLowerCase())>-1))return this.state="error",void(this.errorMessage="Unknown indicator of paired status encountered - only values of F, R, 1, 2, R1, R2, forward, or reverse are allowed.");x="reverse"}var w=e(g,x);if(b.push(w),C.indexOf(x)>=0)return this.state="error",void(this.errorMessage="Duplicate identifiers detected, collection identifiers must be unique.");C.push(x)}else{_=_.split(":").slice(1).join(":");var R=!1,j=!0,S=!1,F=void 0;try{for(var k,E=b[Symbol.iterator]();!(j=(k=E.next()).done);j=!0){var N=k.value;if(N.name==x){b=N[a],C=C[x],R=!0;break}}}catch(e){S=!0,F=e}finally{try{j||null==E.return||E.return()}finally{if(S)throw F}}if(!R){var A=t(x);b.push(A),C[x]=[];var I=[];A[a]=I,A.collection_type=_,b=I,C=C[x]}}}o[v]=h}return o}console.log("Error but this shouldn't have happened, create button should have been disabled.")},creationElementsFromDatasets:function(){var e=this,t=this.hotData,a=t.sources,r=t.data,n=this.mappingAsDict;return this.buildRequestElements((function(t,l){var i=a[t],o=e._datasetFor(t,r,n),s="datasets"==e.elementsType?"hda":"ldda";return{id:i.id,name:l,src:s,tags:o.tags}}),(function(e){return{name:e,src:"new_collection"}}),"element_identifiers")},creationElementsForFetch:function(){var e=this,t=this.hotData.data,a=this.mappingAsDict;return this.buildRequestElements((function(r,n){var l=e._datasetFor(r,t,a);return l.name=n,l}),(function(e){return{name:e}}),"elements")},creationDatasetsForFetch:function(){var e=this.hotData.data,t=this.mappingAsDict,a=[];for(var r in e){var n=this._datasetFor(r,e,t);a.push(n)}return a},populateElementsFromCollectionDescription:function(e,t,a){var r=a||[],n=[],l=[],i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value,p=d.object,m=r.concat([d.element_identifier]),v=t.indexOf(":");if(-1===v){n.push([]);var h={identifiers:m,dataset:p,tags:p.tags};l.push(h)}else{var f=t.slice(v+1),g=this.populateElementsFromCollectionDescription(p.elements,f,m),y=g.data,_=g.sources;n=n.concat(y),l=l.concat(_)}}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return{data:n,sources:l}},highlightColumn:function(e){n()(".htCore > thead > tr > th:nth-child(".concat(e+1,")")).addClass("ht__highlight"),n()(".htCore > tbody > tr > td:nth-child(".concat(e+1,")")).addClass("rule-highlight")},unhighlightColumn:function(e){n()(".htCore > thead > tr > th:nth-child(".concat(e+1,")")).removeClass("ht__highlight"),n()(".htCore > tbody > tr > td:nth-child(".concat(e+1,")")).removeClass("rule-highlight")},_datasetFor:function(e,t,a){var r={};if(a.url){var n=a.url.columns[0],l=t[e][n];-1==l.indexOf("://")&&(l=-1!==l.indexOf("ftp.sra.")?"ftp://"+l:"http://"+l),r.url=l,r.src="url"}else if(a.ftp_path){var i=a.ftp_path.columns[0],o=t[e][i];r.ftp_path=o,r.src="ftp_import"}if(a.dbkey){var s=a.dbkey.columns[0],u=t[e][s];r.dbkey=u}else this.genome&&(r.dbkey=this.genome);if(a.file_type){var c=a.file_type.columns[0],d=t[e][c];r.ext=d}else this.extension&&(r.ext=this.extension);if(a.name){var p=a.name.columns[0],m=t[e][p];r.name=m}if(a.info){var v=a.info.columns[0],h=t[e][v];r.info=h}var f=[];if(a.tags){var g=a.tags.columns,y=!0,_=!1,b=void 0;try{for(var C,T=g[Symbol.iterator]();!(y=(C=T.next()).done);y=!0){var x=C.value,w=t[e][x];f.push(w)}}catch(e){_=!0,b=e}finally{try{y||null==T.return||T.return()}finally{if(_)throw b}}}if(a.group_tags){var R=a.group_tags.columns,j=!0,S=!1,F=void 0;try{for(var k,E=R[Symbol.iterator]();!(j=(k=E.next()).done);j=!0){var N=k.value,A=t[e][N];f.push("group:"+A)}}catch(e){S=!0,F=e}finally{try{j||null==E.return||E.return()}finally{if(S)throw F}}}if(a.name_tag){var I=a.name_tag.columns[0],D=t[e][I];f.push("name:"+D)}return f.length>0&&(r.tags=f),r}},created:function(){var e=this;if("collection_contents"!==this.elementsType){var t=null;if("datasets"==this.elementsType){var a=!0,r=!1,n=void 0;try{for(var l,i=this.initialElements[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){"dataset_collection"==l.value.history_content_type&&(this.errorMessage="This component can only be used with datasets, you have specified one or more collections.",this.state="error")}}catch(e){r=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}}else{var o=!0,s=!1,u=void 0;try{for(var c,d=this.initialElements[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value;if(null==t)t=p.length;else if(t!=p.length){this.jaggedData=!0;break}}}catch(e){s=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}}f.a.getUploadDatatypes((function(t){e.extensions=t,e.extension=f.a.DEFAULT_EXTENSION}),!1,f.a.AUTO_EXTENSION),f.a.getUploadGenomes((function(t){e.genomes=t,e.genome=f.a.DEFAULT_GENOME}),f.a.DEFAULT_GENOME)}},watch:{addColumnRegexType:function(e){"groups"==e&&(this.addColumnRegexGroupCount=1),"replacement"==e&&(this.addColumnRegexReplacement="\0")}},components:{HotTable:h.a,RuleComponent:P,RuleTargetComponent:O,RuleDisplay:k,IdentifierDisplay:A,ColumnSelector:w,RegularExpressionInput:j,StateDiv:G,RuleModalHeader:H,RuleModalMiddle:V,RuleModalFooter:q,Select2:C.a}},z=(a(1035),a(1036),Object(x.a)(L,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"build"==e.state?a("state-div",["source"==e.ruleView?a("rule-modal-header",[e._v("\n        Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced setting.\n    ")]):"datasets"==e.elementsType||"library_datasets"==e.elementsType?a("rule-modal-header",[e._v("\n        Use this form to describe rules for building collection(s) from the specified datasets.\n        "),a("b",[e._v("Be sure to specify at least one column as a list identifier")]),e._v(' - specify more to created nested list\n        structures. Specify a column to serve as "collection name" to group datasets into multiple collections.\n    ')]):"datasets"==e.importType?a("rule-modal-header",[e._v("\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\n        fetch data from (URLs, FTP files, etc...).\n    ")]):a("rule-modal-header",[e._v("\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\n        fetch data from (URLs, FTP files, etc...).\n        "),a("b",[e._v("Be sure to specify at least one column as a list identifier")]),e._v(' - specify more to created nested list\n        structures. Specify a column to serve as "collection name" to group datasets into multiple collections.\n    ')]),e._v(" "),"source"==e.ruleView?a("rule-modal-middle",[e.ruleSourceError?a("p",{staticClass:"errormessagelarge"},[e._v(e._s(e.ruleSourceError))]):e._e(),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ruleSource,expression:"ruleSource"}],staticClass:"rule-source",domProps:{value:e.ruleSource},on:{input:function(t){t.target.composing||(e.ruleSource=t.target.value)}}})]):a("rule-modal-middle",["normal"==e.ruleView?a("div",{staticClass:"rule-builder-body vertically-spaced",class:{"flex-column-container":e.vertical}},[a("div",{staticClass:"rule-column",class:e.orientation},[a("div",{staticClass:"rules-container",class:{"rules-container-vertical":e.initialElements&&e.vertical,"rules-container-horizontal":e.initialElements&&e.horizontal,"rules-container-full":null==e.initialElements}},[a("rule-component",{attrs:{"rule-type":"sort","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addSortingTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addSortingTarget=t}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleNumericSort}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addSortingNumeric,expression:"addSortingNumeric"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addSortingNumeric)?e._i(e.addSortingNumeric,null)>-1:e.addSortingNumeric},on:{change:function(t){var a=e.addSortingNumeric,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addSortingNumeric=a.concat([null])):l>-1&&(e.addSortingNumeric=a.slice(0,l).concat(a.slice(l+1)))}else e.addSortingNumeric=n}}}),e._v(" "+e._s(e.l("Numeric sorting."))+"\n                        ")])],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_basename","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addColumnBasenameTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnBasenameTarget=t}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_rownum","display-rule-type":e.displayRuleType,builder:this}},[a("label",[e._v("\n                            "+e._s(e.l("Starting from"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRownumStart,expression:"addColumnRownumStart"}],attrs:{type:"number",min:"0"},domProps:{value:e.addColumnRownumStart},on:{input:function(t){t.target.composing||(e.addColumnRownumStart=t.target.value)}}})])]),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_metadata","display-rule-type":e.displayRuleType,builder:this}},[a("label",[e._v("\n                            "+e._s(e.l("For"))+"\n                            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addColumnMetadataValue,expression:"addColumnMetadataValue"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.addColumnMetadataValue=t.target.multiple?a:a[0]}}},e._l(e.metadataOptions,(function(t,r){return a("option",{domProps:{value:r}},[e._v(e._s(t))])})),0)])]),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_group_tag_value","display-rule-type":e.displayRuleType,builder:this}},[a("label",[e._v("\n                            "+e._s(e.l("Value"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnGroupTagValueValue,expression:"addColumnGroupTagValueValue"}],attrs:{type:"text"},domProps:{value:e.addColumnGroupTagValueValue},on:{input:function(t){t.target.composing||(e.addColumnGroupTagValueValue=t.target.value)}}})]),e._v(" "),a("label",[e._v("\n                            "+e._s(e.l("Default"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnGroupTagValueDefault,expression:"addColumnGroupTagValueDefault"}],attrs:{type:"text"},domProps:{value:e.addColumnGroupTagValueDefault},on:{input:function(t){t.target.composing||(e.addColumnGroupTagValueDefault=t.target.value)}}})])]),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_regex","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addColumnRegexTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnRegexTarget=t}}}),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"global"},domProps:{checked:e._q(e.addColumnRegexType,"global")},on:{change:function(t){e.addColumnRegexType="global"}}}),e._v("Create column\n                            matching expression.")]),a("br"),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"groups"},domProps:{checked:e._q(e.addColumnRegexType,"groups")},on:{change:function(t){e.addColumnRegexType="groups"}}}),e._v("Create columns\n                            matching expression groups.")]),a("br"),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"replacement"},domProps:{checked:e._q(e.addColumnRegexType,"replacement")},on:{change:function(t){e.addColumnRegexType="replacement"}}}),e._v("Create column\n                            from expression replacement.")]),a("br"),e._v(" "),a("regular-expression-input",{attrs:{target:e.addColumnRegexExpression},on:{"update:target":function(t){e.addColumnRegexExpression=t}}}),e._v(" "),"groups"==e.addColumnRegexType?a("label",[e._v("\n                            "+e._s(e.l("Number of Groups"))+"\n                            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexGroupCount,expression:"addColumnRegexGroupCount"}],attrs:{type:"number",min:"1"},domProps:{value:e.addColumnRegexGroupCount},on:{input:function(t){t.target.composing||(e.addColumnRegexGroupCount=t.target.value)}}})]):e._e(),e._v(" "),"replacement"==e.addColumnRegexType?a("label",[e._v("\n                            "+e._s(e.l("Replacement Expression"))+"\n                            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexReplacement,expression:"addColumnRegexReplacement"}],staticClass:"rule-replacement",attrs:{type:"text"},domProps:{value:e.addColumnRegexReplacement},on:{input:function(t){t.target.composing||(e.addColumnRegexReplacement=t.target.value)}}})]):e._e()],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_concatenate","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addColumnConcatenateTarget0,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnConcatenateTarget0=t}}}),e._v(" "),a("column-selector",{attrs:{target:e.addColumnConcatenateTarget1,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnConcatenateTarget1=t}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_substr","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addColumnSubstrTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnSubstrTarget=t}}}),e._v(" "),a("label",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addColumnSubstrType,expression:"addColumnSubstrType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.addColumnSubstrType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"keep_prefix"}},[e._v("Keep only prefix specified.")]),e._v(" "),a("option",{attrs:{value:"drop_prefix"}},[e._v("Strip off prefix specified.")]),e._v(" "),a("option",{attrs:{value:"keep_suffix"}},[e._v("Keep only suffix specified.")]),e._v(" "),a("option",{attrs:{value:"drop_suffix"}},[e._v("Strip off suffix specified.")])])]),e._v(" "),a("label",[e._v("\n                            "+e._s(e.l("Prefix or suffix length"))+"\n                            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnSubstrLength,expression:"addColumnSubstrLength"}],attrs:{type:"number",min:"0"},domProps:{value:e.addColumnSubstrLength},on:{input:function(t){t.target.composing||(e.addColumnSubstrLength=t.target.value)}}})])],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_column_value","display-rule-type":e.displayRuleType,builder:this}},[a("label",[e._v(" "+e._s(e.l("Value"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnValue,expression:"addColumnValue"}],attrs:{type:"text"},domProps:{value:e.addColumnValue},on:{input:function(t){t.target.composing||(e.addColumnValue=t.target.value)}}})])]),e._v(" "),a("rule-component",{attrs:{"rule-type":"remove_columns","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.removeColumnTargets,"col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.removeColumnTargets=t}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"split_columns","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.splitColumnsTargets0,label:"Odd Row Column(s)","col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.splitColumnsTargets0=t}}}),e._v(" "),a("column-selector",{attrs:{target:e.splitColumnsTargets1,label:"Even Row Column(s)","col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.splitColumnsTargets1=t}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"swap_columns","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.swapColumnsTarget0,label:"Swap Column","col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.swapColumnsTarget0=t}}}),e._v(" "),a("column-selector",{attrs:{target:e.swapColumnsTarget1,label:"With Column","col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.swapColumnsTarget1=t}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_filter_regex","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addFilterRegexTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterRegexTarget=t}}}),e._v(" "),a("regular-expression-input",{attrs:{target:e.addFilterRegexExpression},on:{"update:target":function(t){e.addFilterRegexExpression=t}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterRegex}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterRegexInvert,expression:"addFilterRegexInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterRegexInvert)?e._i(e.addFilterRegexInvert,null)>-1:e.addFilterRegexInvert},on:{change:function(t){var a=e.addFilterRegexInvert,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addFilterRegexInvert=a.concat([null])):l>-1&&(e.addFilterRegexInvert=a.slice(0,l).concat(a.slice(l+1)))}else e.addFilterRegexInvert=n}}}),e._v(" "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_filter_matches","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addFilterMatchesTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterMatchesTarget=t}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterMatchesValue,expression:"addFilterMatchesValue"}],attrs:{type:"text"},domProps:{value:e.addFilterMatchesValue},on:{input:function(t){t.target.composing||(e.addFilterMatchesValue=t.target.value)}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterMatches}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterMatchesInvert,expression:"addFilterMatchesInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterMatchesInvert)?e._i(e.addFilterMatchesInvert,null)>-1:e.addFilterMatchesInvert},on:{change:function(t){var a=e.addFilterMatchesInvert,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addFilterMatchesInvert=a.concat([null])):l>-1&&(e.addFilterMatchesInvert=a.slice(0,l).concat(a.slice(l+1)))}else e.addFilterMatchesInvert=n}}}),e._v(" "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_filter_compare","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addFilterCompareTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterCompareTarget=t}}}),e._v(" "),a("label",[e._v("\n                            Filter out rows\n                            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCompareType,expression:"addFilterCompareType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.addFilterCompareType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"less_than"}},[e._v(e._s(e.l("less than"))+" ")]),e._v(" "),a("option",{attrs:{value:"less_than_equal"}},[e._v(e._s(e.l("less than or equal to")))]),e._v(" "),a("option",{attrs:{value:"greater_than"}},[e._v(e._s(e.l("greater than")))]),e._v(" "),a("option",{attrs:{value:"greater_than_equal"}},[e._v(e._s(e.l("greater than or equal to")))])])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCompareValue,expression:"addFilterCompareValue"}],attrs:{type:"text"},domProps:{value:e.addFilterCompareValue},on:{input:function(t){t.target.composing||(e.addFilterCompareValue=t.target.value)}}})],1),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_filter_count","display-rule-type":e.displayRuleType,builder:this}},[a("label",[e._v("\n                            Filter which rows?\n                            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountWhich,expression:"addFilterCountWhich"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.addFilterCountWhich=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"first"}},[e._v("first")]),e._v(" "),a("option",{attrs:{value:"last"}},[e._v("last")])])]),e._v(" "),a("label",[e._v(" Filter how many rows? "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountN,expression:"addFilterCountN"}],attrs:{type:"number"},domProps:{value:e.addFilterCountN},on:{input:function(t){t.target.composing||(e.addFilterCountN=t.target.value)}}})]),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterMatches}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountInvert,expression:"addFilterCountInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterCountInvert)?e._i(e.addFilterCountInvert,null)>-1:e.addFilterCountInvert},on:{change:function(t){var a=e.addFilterCountInvert,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addFilterCountInvert=a.concat([null])):l>-1&&(e.addFilterCountInvert=a.slice(0,l).concat(a.slice(l+1)))}else e.addFilterCountInvert=n}}}),e._v(" "+e._s(e.l("Invert filter."))+"\n                        ")])]),e._v(" "),a("rule-component",{attrs:{"rule-type":"add_filter_empty","display-rule-type":e.displayRuleType,builder:this}},[a("column-selector",{attrs:{target:e.addFilterEmptyTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterEmptyTarget=t}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterEmpty}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterEmptyInvert,expression:"addFilterEmptyInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterEmptyInvert)?e._i(e.addFilterEmptyInvert,null)>-1:e.addFilterEmptyInvert},on:{change:function(t){var a=e.addFilterEmptyInvert,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addFilterEmptyInvert=a.concat([null])):l>-1&&(e.addFilterEmptyInvert=a.slice(0,l).concat(a.slice(l+1)))}else e.addFilterEmptyInvert=n}}}),e._v(" "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),"mapping"==e.displayRuleType?a("div",[e._l(e.mapping,(function(t,r){return a("div",{key:t.type,staticClass:"map",attrs:{index:r}},[a("column-selector",{class:"rule-map-"+t.type.replace(/_/g,"-"),attrs:{label:e.mappingTargets()[t.type].label,help:e.mappingTargets()[t.type].help,target:t.columns,"ordered-edit":t.editing,"col-headers":e.colHeaders,multiple:e.mappingTargets()[t.type].multiple,ordered:!0,"value-as-list":!0},on:{"update:target":function(a){return e.$set(t,"columns",a)},"update:orderedEdit":function(a){return e.$set(t,"editing",a)},"update:ordered-edit":function(a){return e.$set(t,"editing",a)}}},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times",attrs:{title:e.titleRemoveMapping},on:{click:function(t){return e.removeMapping(r)}}})])],1)})),e._v(" "),a("div",{staticClass:"buttons rule-edit-buttons d-flex justify-content-end"},[e.unmappedTargets.length>0?a("button",{staticClass:"dropdown-toggle btn btn-primary mr-1",attrs:{type:"button","data-toggle":"dropdown"}},[a("span",{staticClass:"fa fa-plus rule-add-mapping"}),e._v(" "+e._s("Add Definition")),a("span",{staticClass:"caret"})]):e._e(),e._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},e._l(e.unmappedTargets,(function(t){return a("a",{key:t,staticClass:"dropdown-item",class:"rule-add-mapping-"+t.replace(/_/g,"-"),attrs:{index:t,href:"javascript:void(0)"},on:{click:function(a){return e.addIdentifier(t)}}},[e._v("\n                                    "+e._s(e.mappingTargets()[t].label)+"\n                                ")])})),0),e._v(" "),e.hasActiveMappingEdit?e._e():a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-mapping-ok",attrs:{title:e.titleApplyColumnDefinitions},on:{click:function(t){e.displayRuleType=null}}},[e._v(e._s(e.l("Apply")))])],1)],2):e._e(),e._v(" "),null==e.displayRuleType?a("div",{staticClass:"rule-summary"},[a("span",{staticClass:"title"},[e._v("\n                            "+e._s(e.l("Rules"))+"\n                            "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-wrench rule-builder-view-source",attrs:{title:e.titleViewSource},on:{click:e.viewSource}})]),e._v(" "),e.jaggedData?a("div",{staticClass:"rule-warning"},[e._v("\n                            Rows contain differing numbers of columns, there was likely a problem parsing your data.\n                        ")]):e._e(),e._v(" "),a("ol",{staticClass:"rules"},[e._l(e.rules,(function(t,r){return a("rule-display",{key:r,attrs:{rule:t,index:r,"col-headers":e.colHeadersPerRule[r]},on:{edit:function(a){return e.editRule(t,r)},remove:function(t){return e.removeRule(r)}}})})),e._v(" "),e._l(e.mapping,(function(t,r){return a("identifier-display",e._b({key:t.type,attrs:{index:r,"col-headers":e.colHeaders},on:{remove:function(t){return e.removeMapping(r)},edit:function(t){e.displayRuleType="mapping"}},nativeOn:{mouseover:function(a){t.columns.forEach((function(t){return e.highlightColumn(t)}))},mouseout:function(a){t.columns.forEach((function(t){return e.unhighlightColumn(t)}))}}},"identifier-display",t,!1))})),e._v(" "),0==e.mapping.length?a("div",[e._v("\n                                One or more column definitions must be specified. These are required to specify how\n                                to build collections and datasets from rows and columns of the table.\n                                "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.displayRuleType="mapping"}}},[e._v("Click here")]),e._v(" to\n                                manage column definitions.\n                            ")]):e._e()],2),e._v(" "),a("div",{staticClass:"rules-buttons"},[a("div",{staticClass:"btn-group dropup"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-rules-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleRulesMenu,"data-toggle":"dropdown"}},[a("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Rules"))),a("span",{staticClass:"caret"})]),e._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[a("rule-target-component",{attrs:{builder:this,"rule-type":"sort"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"remove_columns"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"split_columns"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"swap_columns"}}),e._v(" "),a("a",{staticClass:"dropdown-item rule-link rule-link-mapping",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.displayRuleType="mapping"}}},[e._v("Add / Modify Column Definitions")])],1)]),e._v(" "),a("div",{staticClass:"btn-group dropup"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-filter-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleFilterMenu,"data-toggle":"dropdown"}},[a("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Filter"))),a("span",{staticClass:"caret"})]),e._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[a("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_regex"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_matches"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_compare"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_empty"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_count"}})],1)]),e._v(" "),a("div",{staticClass:"btn-group dropup"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-column-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleColumMenu,"data-toggle":"dropdown"}},[a("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Column"))),a("span",{staticClass:"caret"})]),e._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_basename"}}),e._v(" "),e.metadataOptions?a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_metadata"}}):e._e(),e._v(" "),e.hasTagsMetadata?a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_group_tag_value"}}):e._e(),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_regex"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_concatenate"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_rownum"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_value"}}),e._v(" "),a("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_substr"}})],1)])])]):e._e()],1)]),e._v(" "),null!==e.initialElements?a("div",{staticClass:"table-column",class:e.orientation,staticStyle:{width:"100%"}},[a("hot-table",{ref:"hotTable",attrs:{id:"hot-table",data:e.hotData.data,"col-headers":e.colHeadersDisplay,"read-only":!0,"stretch-h":"all"}})],1):e._e()]):e._e()]),e._v(" "),"source"==e.ruleView?a("rule-modal-footer",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rule-btn-cancel",attrs:{title:e.titleSourceCancel},on:{click:e.cancelSourceEdit}},[e._v("\n            "+e._s(e.l("Cancel"))+"\n        ")]),e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-reset-btn rule-btn-reset",attrs:{title:e.titleSourceReset}},[e._v("\n            "+e._s(e.l("Reset"))+"\n        ")]),e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rule-btn-okay",attrs:{title:e.titleSourceApply},on:{click:e.attemptRulePreview}},[e._v("\n            "+e._s(e.l("Apply"))+"\n        ")])],1):"normal"==e.ruleView?a("rule-modal-footer",{scopedSlots:e._u([{key:"inputs",fn:function(){return[a("div",{staticClass:"rule-footer-inputs"},["datasets"==e.elementsType?a("label",[e._v(" "+e._s(e.l("Hide original elements"))+": ")]):e._e(),e._v(" "),"datasets"==e.elementsType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.hideSourceItems,expression:"hideSourceItems"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideSourceItems)?e._i(e.hideSourceItems,null)>-1:e.hideSourceItems},on:{change:function(t){var a=e.hideSourceItems,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.hideSourceItems=a.concat([null])):l>-1&&(e.hideSourceItems=a.slice(0,l).concat(a.slice(l+1)))}else e.hideSourceItems=n}}}):e._e(),e._v(" "),e.extension&&e.showFileTypeSelector?a("div",{staticClass:"rule-footer-extension-group"},[a("label",[e._v(" "+e._s(e.l("Type"))+": ")]),e._v(" "),a("select2",{staticClass:"extension-select",attrs:{name:"extension"},model:{value:e.extension,callback:function(t){e.extension=t},expression:"extension"}},e._l(e.extensions,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})),0)],1):e._e(),e._v(" "),e.genome&&e.showGenomeSelector?a("div",{staticClass:"rule-footer-genome-group"},[a("label",[e._v(" "+e._s(e.l("Genome"))+": ")]),e._v(" "),a("select2",{staticClass:"genome-select",model:{value:e.genome,callback:function(t){e.genome=t},expression:"genome"}},e._l(e.genomes,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})),0)],1):e._e(),e._v(" "),e.showAddNameTag?a("label",[e._v(" "+e._s(e.l("Add nametag for name"))+": ")]):e._e(),e._v(" "),e.showAddNameTag?a("input",{directives:[{name:"model",rawName:"v-model",value:e.addNameTag,expression:"addNameTag"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addNameTag)?e._i(e.addNameTag,null)>-1:e.addNameTag},on:{change:function(t){var a=e.addNameTag,r=t.target,n=!!r.checked;if(Array.isArray(a)){var l=e._i(a,null);r.checked?l<0&&(e.addNameTag=a.concat([null])):l>-1&&(e.addNameTag=a.slice(0,l).concat(a.slice(l+1)))}else e.addNameTag=n}}}):e._e(),e._v(" "),e.showCollectionNameInput?a("div",{staticClass:"rule-footer-name-group"},[a("b-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"collection-name",attrs:{placeholder:e.namePlaceholder,title:e.namePlaceholder},model:{value:e.collectionName,callback:function(t){e.collectionName=t},expression:"collectionName"}}),e._v(" "),a("label",[e._v(" "+e._s(e.l("Name"))+": ")])],1):e._e()])]},proxy:!0}],null,!1,2552130578)},[e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-cancel-btn rule-btn-cancel",attrs:{help:e.titleCancel,tabindex:"-1"},on:{click:e.cancel}},[e._v("\n            "+e._s(e.l("Cancel"))+"\n        ")]),e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-reset-btn rule-btn-reset",attrs:{title:e.titleReset},on:{click:e.resetRulesAndState}},[e._v("\n            "+e._s(e.l("Reset"))+"\n        ")]),e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"create-collection rule-btn-okay",attrs:{title:e.titleFinish,variant:"primary",disabled:!e.validInput},on:{click:e.createCollection}},[e._v("\n            "+e._s(e.finishButtonTitle)+"\n        ")])],1):e._e()],1):"wait"==e.state?a("state-div",["datasets"==e.importType?a("rule-modal-header",[e._v("\n        "+e._s(e.l("Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete."))+"\n    ")]):"collections"==e.importType?a("rule-modal-header",[e._v("\n        "+e._s(e.l("Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete."))+"\n    ")]):e._e(),e._v(" "),a("rule-modal-footer",[a("b-button",{staticClass:"creator-cancel-btn",attrs:{tabindex:"-1"},on:{click:e.cancel}},[e._v(" "+e._s(e.l("Close"))+" ")])],1)],1):"error"==e.state?a("state-div",[a("rule-modal-header",[e._v(" A problem was encountered. ")]),e._v(" "),a("rule-modal-middle",[a("p",{staticClass:"errormessagelarge"},[e._v(e._s(e.errorMessage))])]),e._v(" "),a("rule-modal-footer",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-cancel-btn",attrs:{title:e.titleCancel,tabindex:"-1"},on:{click:e.cancel}},[e._v("\n            "+e._s(e.l("Close"))+"\n        ")]),e._v(" "),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleErrorOkay,tabindex:"-1"},on:{click:function(t){e.state="build"}}},[e._v("\n            "+e._s(e.l("Okay"))+"\n        ")])],1)],1):e._e()}),[],!1,null,null,null));t.default=z.exports},509:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a={props:["options","value","placeholder","containerClass","enabled"],render:function(){var e=this.$createElement;return(this._self._c||e)("select",[this._t("default")],2)},staticRenderFns:[],mounted:function(){var e=this,t=this.enabled;void 0===t&&(t=!0);var a={data:this.options,placeholder:this.placeholder,allowClear:!!this.placeholder,enable:t,dropdownAutoWidth:!0};this.containerClass&&(a.containerCssClass=this.containerClass),n()(this.$el).select2(a).val(this.value).trigger("change").on("change",(function(t){e.$emit("input",t.val)}))},watch:{value:function(e){n()(this.$el).val(e)},options:function(e){n()(this.$el).empty().select2({data:e})},enabled:function(e){n()(this.$el).select2("enable",e)}},destroyed:function(){n()(this.$el).off().select2("destroy")}}}}]);