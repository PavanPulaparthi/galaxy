{"version":3,"sources":["webpack:///./galaxy/scripts/components/RuleCollectionBuilder.vue?435b","webpack:///./galaxy/scripts/mvc/upload/upload-utils.js","webpack:///./galaxy/scripts/components/RuleCollectionBuilder.vue?47c7","webpack:///./galaxy/scripts/components/RuleBuilder/ColumnSelector.vue?d064","webpack:///galaxy/scripts/components/RuleBuilder/ColumnSelector.vue","webpack:///./galaxy/scripts/components/RuleBuilder/ColumnSelector.vue","webpack:///./galaxy/scripts/components/RuleBuilder/ColumnSelector.vue?dd2a","webpack:///./galaxy/scripts/components/RuleBuilder/RegularExpressionInput.vue?e49e","webpack:///galaxy/scripts/components/RuleBuilder/RegularExpressionInput.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RegularExpressionInput.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RegularExpressionInput.vue?0700","webpack:///galaxy/scripts/components/RuleBuilder/RuleDisplay.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleDisplay.vue?0f29","webpack:///./galaxy/scripts/components/RuleBuilder/RuleDisplay.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleDisplay.vue?4b2a","webpack:///galaxy/scripts/components/RuleBuilder/IdentifierDisplay.vue","webpack:///./galaxy/scripts/components/RuleBuilder/IdentifierDisplay.vue?16da","webpack:///./galaxy/scripts/components/RuleBuilder/IdentifierDisplay.vue","webpack:///./galaxy/scripts/components/RuleBuilder/IdentifierDisplay.vue?793c","webpack:///galaxy/scripts/components/RuleBuilder/RuleTargetComponent.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleTargetComponent.vue?7646","webpack:///./galaxy/scripts/components/RuleBuilder/RuleTargetComponent.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleTargetComponent.vue?9acf","webpack:///./galaxy/scripts/components/RuleBuilder/RuleComponent.vue?975c","webpack:///galaxy/scripts/components/RuleBuilder/RuleComponent.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleComponent.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleComponent.vue?2daf","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalHeader.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalHeader.vue?9bc3","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalMiddle.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalMiddle.vue?714b","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalFooter.vue","webpack:///./galaxy/scripts/components/RuleBuilder/RuleModalFooter.vue?c9c6","webpack:///./galaxy/scripts/components/RuleBuilder/StateDiv.vue","webpack:///./galaxy/scripts/components/RuleBuilder/StateDiv.vue?5517","webpack:///galaxy/scripts/components/RuleCollectionBuilder.vue","webpack:///./galaxy/scripts/components/RuleCollectionBuilder.vue?9e8f","webpack:///./galaxy/scripts/components/RuleCollectionBuilder.vue","webpack:///./galaxy/scripts/components/Select2.js"],"names":["AUTO_EXTENSION","id","text","description","DEFAULT_GENOME","DEFAULT_EXTENSION","getRemoteFiles","success","error","$","ajax","url","getAppRoot","method","getUploadDatatypes","callback","datatypesDisableAuto","auto","axios","get","then","response","datatypes","data","listExtensions","key","push","extension","description_url","composite_files","sort","a","b","a_text","toLowerCase","b_text","unshift","errorMessage","console","log","getUploadGenomes","defaultGenome","genomes","listGenomes","_vm","this","_h","$createElement","_c","_self","multiple","ordered","staticClass","_v","_s","label","_t","_l","targetEl","index","attrs","colHeaders","on","$event","handleRemove","moveUp","_e","target","length","orderedEdit","handleAdd","col","domProps","$emit","l","directives","name","rawName","modifiers","help","title","handleInput","value","expression","popoverTitle","editTitle","edit","removeTitle","remove","rule","warn","columnsLabel","typeDisplay","titleEdit","titleRemove","class","linkClassName","builder","addNewRule","ruleType","displayRuleType","typeToClass","cancel","cancelLabel","okay","applyLabel","state","ruleView","elementsType","importType","ruleSourceError","composing","ruleSource","vertical","orientation","initialElements","horizontal","addSortingTarget","activeRuleColHeaders","titleNumericSort","Array","isArray","addSortingNumeric","_i","$$a","$$el","$$c","checked","$$i","concat","slice","addColumnBasenameTarget","addColumnRownumStart","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","addColumnMetadataValue","addColumnGroupTagValueValue","addColumnGroupTagValueDefault","addColumnRegexTarget","_q","addColumnRegexType","addColumnRegexExpression","addColumnRegexGroupCount","addColumnRegexReplacement","addColumnConcatenateTarget0","addColumnConcatenateTarget1","addColumnSubstrTarget","addColumnSubstrType","addColumnSubstrLength","addColumnValue","removeColumnTargets","splitColumnsTargets0","splitColumnsTargets1","swapColumnsTarget0","swapColumnsTarget1","addFilterRegexTarget","addFilterRegexExpression","titleInvertFilterRegex","addFilterRegexInvert","addFilterMatchesTarget","addFilterMatchesValue","titleInvertFilterMatches","addFilterMatchesInvert","addFilterCompareTarget","addFilterCompareType","addFilterCompareValue","addFilterCountWhich","addFilterCountN","addFilterCountInvert","addFilterEmptyTarget","titleInvertFilterEmpty","addFilterEmptyInvert","type","replace","mappingTargets","columns","editing","$set","titleRemoveMapping","removeMapping","unmappedTargets","addIdentifier","hasActiveMappingEdit","titleApplyColumnDefinitions","titleViewSource","viewSource","colHeadersPerRule","editRule","removeRule","_b","nativeOn","forEach","highlightColumn","unhighlightColumn","mapping","titleRulesMenu","titleFilterMenu","titleColumMenu","staticStyle","ref","hotData","colHeadersDisplay","titleSourceCancel","cancelSourceEdit","titleSourceReset","titleSourceApply","attemptRulePreview","scopedSlots","_u","fn","hideSourceItems","showFileTypeSelector","model","$$v","genome","showGenomeSelector","addNameTag","namePlaceholder","collectionName","proxy","titleCancel","titleReset","resetRulesAndState","titleFinish","validInput","createCollection","finishButtonTitle","titleErrorOkay","props","mounted","vm","enabled","undefined","select2Options","placeholder","allowClear","enable","dropdownAutoWidth","containerClass","containerCssClass","$el","select2","val","trigger","event","watch","empty","destroyed","off"],"mappings":"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","file":"ruleCollectionBuilder.chunk.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"","import $ from \"jquery\";\nimport { getAppRoot } from \"onload/loadConfig\";\nimport axios from \"axios\";\n\nconst AUTO_EXTENSION = {\n    id: \"auto\",\n    text: \"Auto-detect\",\n    description:\n        \"This system will try to detect the file type automatically. If your file is not detected properly as one of the known formats, it most likely means that it has some format problems (e.g., different number of columns on different rows). You can still coerce the system to set your data to the format you think it should be.  You can also upload compressed files, which will automatically be decompressed.\",\n};\nconst DEFAULT_GENOME = \"?\";\nconst DEFAULT_EXTENSION = \"auto\";\n\nfunction getUploadDatatypes(callback, datatypesDisableAuto, auto) {\n    const url = `${getAppRoot()}api/datatypes?extension_only=False`;\n    axios\n        .get(url)\n        .then((response) => {\n            const datatypes = response.data;\n            const listExtensions = [];\n            for (var key in datatypes) {\n                listExtensions.push({\n                    id: datatypes[key].extension,\n                    text: datatypes[key].extension,\n                    description: datatypes[key].description,\n                    description_url: datatypes[key].description_url,\n                    composite_files: datatypes[key].composite_files,\n                });\n            }\n            listExtensions.sort((a, b) => {\n                var a_text = a.text && a.text.toLowerCase();\n                var b_text = b.text && b.text.toLowerCase();\n                return a_text > b_text ? 1 : a_text < b_text ? -1 : 0;\n            });\n            if (!datatypesDisableAuto) {\n                listExtensions.unshift(auto);\n            }\n            callback(listExtensions);\n        })\n        .catch((errorMessage) => {\n            console.log(errorMessage);\n        });\n}\n\nfunction getUploadGenomes(callback, defaultGenome) {\n    const url = `${getAppRoot()}api/genomes`;\n    axios\n        .get(url)\n        .then((response) => {\n            const genomes = response.data;\n            const listGenomes = [];\n\n            for (var key in genomes) {\n                listGenomes.push({\n                    id: genomes[key][1],\n                    text: genomes[key][0],\n                });\n            }\n            listGenomes.sort((a, b) => {\n                if (a.id == defaultGenome) {\n                    return -1;\n                }\n                if (b.id == defaultGenome) {\n                    return 1;\n                }\n                return a.text > b.text ? 1 : a.text < b.text ? -1 : 0;\n            });\n            callback(listGenomes);\n        })\n        .catch((errorMessage) => {\n            console.log(errorMessage);\n        });\n}\n\nfunction getRemoteFiles(success, error) {\n    return $.ajax({\n        url: `${getAppRoot()}api/remote_files`,\n        method: \"GET\",\n        success: success,\n        error: error,\n    });\n}\n\nexport default {\n    AUTO_EXTENSION,\n    DEFAULT_GENOME,\n    DEFAULT_EXTENSION,\n    getRemoteFiles,\n    getUploadDatatypes,\n    getUploadGenomes,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state == 'build')?_c('state-div',[(_vm.ruleView == 'source')?_c('rule-modal-header',[_vm._v(\"\\n        Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced setting.\\n    \")]):(_vm.elementsType == 'datasets' || _vm.elementsType == 'library_datasets')?_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for building collection(s) from the specified datasets.\\n        \"),_c('b',[_vm._v(\"Be sure to specify at least one column as a list identifier\")]),_vm._v(\" - specify more to created nested list\\n        structures. Specify a column to serve as \\\"collection name\\\" to group datasets into multiple collections.\\n    \")]):(_vm.importType == 'datasets')?_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\\n        fetch data from (URLs, FTP files, etc...).\\n    \")]):_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\\n        fetch data from (URLs, FTP files, etc...).\\n        \"),_c('b',[_vm._v(\"Be sure to specify at least one column as a list identifier\")]),_vm._v(\" - specify more to created nested list\\n        structures. Specify a column to serve as \\\"collection name\\\" to group datasets into multiple collections.\\n    \")]),_vm._v(\" \"),(_vm.ruleView == 'source')?_c('rule-modal-middle',[(_vm.ruleSourceError)?_c('p',{staticClass:\"errormessagelarge\"},[_vm._v(_vm._s(_vm.ruleSourceError))]):_vm._e(),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ruleSource),expression:\"ruleSource\"}],staticClass:\"rule-source\",domProps:{\"value\":(_vm.ruleSource)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ruleSource=$event.target.value}}})]):_c('rule-modal-middle',[(_vm.ruleView == 'normal')?_c('div',{staticClass:\"rule-builder-body vertically-spaced\",class:{ 'flex-column-container': _vm.vertical }},[_c('div',{staticClass:\"rule-column\",class:_vm.orientation},[_c('div',{staticClass:\"rules-container\",class:{\n                        'rules-container-vertical': _vm.initialElements && _vm.vertical,\n                        'rules-container-horizontal': _vm.initialElements && _vm.horizontal,\n                        'rules-container-full': _vm.initialElements == null,\n                    }},[_c('rule-component',{attrs:{\"rule-type\":\"sort\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addSortingTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addSortingTarget=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleNumericSort}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addSortingNumeric),expression:\"addSortingNumeric\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addSortingNumeric)?_vm._i(_vm.addSortingNumeric,null)>-1:(_vm.addSortingNumeric)},on:{\"change\":function($event){var $$a=_vm.addSortingNumeric,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addSortingNumeric=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addSortingNumeric=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addSortingNumeric=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.l(\"Numeric sorting.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_basename\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnBasenameTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnBasenameTarget=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_rownum\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Starting from\"))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRownumStart),expression:\"addColumnRownumStart\"}],attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.addColumnRownumStart)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRownumStart=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_metadata\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"For\"))+\"\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnMetadataValue),expression:\"addColumnMetadataValue\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addColumnMetadataValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.metadataOptions),function(col,index){return _c('option',{domProps:{\"value\":index}},[_vm._v(_vm._s(col))])}),0)])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_group_tag_value\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Value\"))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnGroupTagValueValue),expression:\"addColumnGroupTagValueValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnGroupTagValueValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnGroupTagValueValue=$event.target.value}}})]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Default\"))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnGroupTagValueDefault),expression:\"addColumnGroupTagValueDefault\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnGroupTagValueDefault)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnGroupTagValueDefault=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_regex\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnRegexTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnRegexTarget=$event}}}),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"global\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"global\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"global\"}}}),_vm._v(\"Create column\\n                            matching expression.\")]),_c('br'),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"groups\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"groups\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"groups\"}}}),_vm._v(\"Create columns\\n                            matching expression groups.\")]),_c('br'),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"replacement\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"replacement\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"replacement\"}}}),_vm._v(\"Create column\\n                            from expression replacement.\")]),_c('br'),_vm._v(\" \"),_c('regular-expression-input',{attrs:{\"target\":_vm.addColumnRegexExpression},on:{\"update:target\":function($event){_vm.addColumnRegexExpression=$event}}}),_vm._v(\" \"),(_vm.addColumnRegexType == 'groups')?_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Number of Groups\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexGroupCount),expression:\"addColumnRegexGroupCount\"}],attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.addColumnRegexGroupCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRegexGroupCount=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),(_vm.addColumnRegexType == 'replacement')?_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Replacement Expression\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexReplacement),expression:\"addColumnRegexReplacement\"}],staticClass:\"rule-replacement\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnRegexReplacement)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRegexReplacement=$event.target.value}}})]):_vm._e()],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_concatenate\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnConcatenateTarget0,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnConcatenateTarget0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.addColumnConcatenateTarget1,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnConcatenateTarget1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_substr\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnSubstrTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnSubstrTarget=$event}}}),_vm._v(\" \"),_c('label',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnSubstrType),expression:\"addColumnSubstrType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addColumnSubstrType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"keep_prefix\"}},[_vm._v(\"Keep only prefix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"drop_prefix\"}},[_vm._v(\"Strip off prefix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"keep_suffix\"}},[_vm._v(\"Keep only suffix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"drop_suffix\"}},[_vm._v(\"Strip off suffix specified.\")])])]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Prefix or suffix length\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnSubstrLength),expression:\"addColumnSubstrLength\"}],attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.addColumnSubstrLength)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnSubstrLength=$event.target.value}}})])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_value\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Value\"))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnValue),expression:\"addColumnValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnValue=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"remove_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.removeColumnTargets,\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.removeColumnTargets=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"split_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.splitColumnsTargets0,\"label\":\"Odd Row Column(s)\",\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.splitColumnsTargets0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.splitColumnsTargets1,\"label\":\"Even Row Column(s)\",\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.splitColumnsTargets1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"swap_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.swapColumnsTarget0,\"label\":\"Swap Column\",\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.swapColumnsTarget0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.swapColumnsTarget1,\"label\":\"With Column\",\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.swapColumnsTarget1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_regex\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterRegexTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterRegexTarget=$event}}}),_vm._v(\" \"),_c('regular-expression-input',{attrs:{\"target\":_vm.addFilterRegexExpression},on:{\"update:target\":function($event){_vm.addFilterRegexExpression=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterRegex}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterRegexInvert),expression:\"addFilterRegexInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterRegexInvert)?_vm._i(_vm.addFilterRegexInvert,null)>-1:(_vm.addFilterRegexInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterRegexInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterRegexInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterRegexInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterRegexInvert=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_matches\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterMatchesTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterMatchesTarget=$event}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterMatchesValue),expression:\"addFilterMatchesValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addFilterMatchesValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterMatchesValue=$event.target.value}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterMatches}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterMatchesInvert),expression:\"addFilterMatchesInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterMatchesInvert)?_vm._i(_vm.addFilterMatchesInvert,null)>-1:(_vm.addFilterMatchesInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterMatchesInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterMatchesInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterMatchesInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterMatchesInvert=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_compare\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterCompareTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterCompareTarget=$event}}}),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            Filter out rows\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCompareType),expression:\"addFilterCompareType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addFilterCompareType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"less_than\"}},[_vm._v(_vm._s(_vm.l(\"less than\"))+\" \")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"less_than_equal\"}},[_vm._v(_vm._s(_vm.l(\"less than or equal to\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"greater_than\"}},[_vm._v(_vm._s(_vm.l(\"greater than\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"greater_than_equal\"}},[_vm._v(_vm._s(_vm.l(\"greater than or equal to\")))])])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCompareValue),expression:\"addFilterCompareValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addFilterCompareValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterCompareValue=$event.target.value}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_count\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            Filter which rows?\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountWhich),expression:\"addFilterCountWhich\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addFilterCountWhich=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"first\"}},[_vm._v(\"first\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"last\"}},[_vm._v(\"last\")])])]),_vm._v(\" \"),_c('label',[_vm._v(\" Filter how many rows? \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountN),expression:\"addFilterCountN\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.addFilterCountN)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterCountN=$event.target.value}}})]),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterMatches}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountInvert),expression:\"addFilterCountInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterCountInvert)?_vm._i(_vm.addFilterCountInvert,null)>-1:(_vm.addFilterCountInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterCountInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterCountInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterCountInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterCountInvert=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_empty\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterEmptyTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterEmptyTarget=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterEmpty}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterEmptyInvert),expression:\"addFilterEmptyInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterEmptyInvert)?_vm._i(_vm.addFilterEmptyInvert,null)>-1:(_vm.addFilterEmptyInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterEmptyInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterEmptyInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterEmptyInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterEmptyInvert=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),(_vm.displayRuleType == 'mapping')?_c('div',[_vm._l((_vm.mapping),function(map,index){return _c('div',{key:map.type,staticClass:\"map\",attrs:{\"index\":index}},[_c('column-selector',{class:'rule-map-' + map.type.replace(/_/g, '-'),attrs:{\"label\":_vm.mappingTargets()[map.type].label,\"help\":_vm.mappingTargets()[map.type].help,\"target\":map.columns,\"ordered-edit\":map.editing,\"col-headers\":_vm.colHeaders,\"multiple\":_vm.mappingTargets()[map.type].multiple,\"ordered\":true,\"value-as-list\":true},on:{\"update:target\":function($event){return _vm.$set(map, \"columns\", $event)},\"update:orderedEdit\":function($event){return _vm.$set(map, \"editing\", $event)},\"update:ordered-edit\":function($event){return _vm.$set(map, \"editing\", $event)}}},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times\",attrs:{\"title\":_vm.titleRemoveMapping},on:{\"click\":function($event){return _vm.removeMapping(index)}}})])],1)}),_vm._v(\" \"),_c('div',{staticClass:\"buttons rule-edit-buttons d-flex justify-content-end\"},[(_vm.unmappedTargets.length > 0)?_c('button',{staticClass:\"dropdown-toggle btn btn-primary mr-1\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus rule-add-mapping\"}),_vm._v(\" \"+_vm._s(\"Add Definition\")),_c('span',{staticClass:\"caret\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},_vm._l((_vm.unmappedTargets),function(target){return _c('a',{key:target,staticClass:\"dropdown-item\",class:'rule-add-mapping-' + target.replace(/_/g, '-'),attrs:{\"index\":target,\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.addIdentifier(target)}}},[_vm._v(\"\\n                                    \"+_vm._s(_vm.mappingTargets()[target].label)+\"\\n                                \")])}),0),_vm._v(\" \"),(!_vm.hasActiveMappingEdit)?_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-mapping-ok\",attrs:{\"title\":_vm.titleApplyColumnDefinitions},on:{\"click\":function($event){_vm.displayRuleType = null}}},[_vm._v(_vm._s(_vm.l(\"Apply\")))]):_vm._e()],1)],2):_vm._e(),_vm._v(\" \"),(_vm.displayRuleType == null)?_c('div',{staticClass:\"rule-summary\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Rules\"))+\"\\n                            \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-wrench rule-builder-view-source\",attrs:{\"title\":_vm.titleViewSource},on:{\"click\":_vm.viewSource}})]),_vm._v(\" \"),(_vm.jaggedData)?_c('div',{staticClass:\"rule-warning\"},[_vm._v(\"\\n                            Rows contain differing numbers of columns, there was likely a problem parsing your data.\\n                        \")]):_vm._e(),_vm._v(\" \"),_c('ol',{staticClass:\"rules\"},[_vm._l((_vm.rules),function(rule,index){return _c('rule-display',{key:index,attrs:{\"rule\":rule,\"index\":index,\"col-headers\":_vm.colHeadersPerRule[index]},on:{\"edit\":function($event){return _vm.editRule(rule, index)},\"remove\":function($event){return _vm.removeRule(index)}}})}),_vm._v(\" \"),_vm._l((_vm.mapping),function(map,index){return _c('identifier-display',_vm._b({key:map.type,attrs:{\"index\":index,\"col-headers\":_vm.colHeaders},on:{\"remove\":function($event){return _vm.removeMapping(index)},\"edit\":function($event){_vm.displayRuleType = 'mapping'}},nativeOn:{\"mouseover\":function($event){map.columns.forEach(function (col) { return _vm.highlightColumn(col); })},\"mouseout\":function($event){map.columns.forEach(function (col) { return _vm.unhighlightColumn(col); })}}},'identifier-display',map,false))}),_vm._v(\" \"),(_vm.mapping.length == 0)?_c('div',[_vm._v(\"\\n                                One or more column definitions must be specified. These are required to specify how\\n                                to build collections and datasets from rows and columns of the table.\\n                                \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.displayRuleType = 'mapping'}}},[_vm._v(\"Click here\")]),_vm._v(\" to\\n                                manage column definitions.\\n                            \")]):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"rules-buttons\"},[_c('div',{staticClass:\"btn-group dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-rules-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleRulesMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\" \"+_vm._s(_vm.l(\"Rules\"))),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"sort\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"remove_columns\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"split_columns\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"swap_columns\"}}),_vm._v(\" \"),_c('a',{staticClass:\"dropdown-item rule-link rule-link-mapping\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.displayRuleType = 'mapping'}}},[_vm._v(\"Add / Modify Column Definitions\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-filter-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleFilterMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\" \"+_vm._s(_vm.l(\"Filter\"))),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_regex\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_matches\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_compare\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_empty\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_count\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-column-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleColumMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\" \"+_vm._s(_vm.l(\"Column\"))),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_basename\"}}),_vm._v(\" \"),(_vm.metadataOptions)?_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_metadata\"}}):_vm._e(),_vm._v(\" \"),(_vm.hasTagsMetadata)?_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_group_tag_value\"}}):_vm._e(),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_regex\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_concatenate\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_rownum\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_value\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_substr\"}})],1)])])]):_vm._e()],1)]),_vm._v(\" \"),(_vm.initialElements !== null)?_c('div',{staticClass:\"table-column\",class:_vm.orientation,staticStyle:{\"width\":\"100%\"}},[_c('hot-table',{ref:\"hotTable\",attrs:{\"id\":\"hot-table\",\"data\":_vm.hotData.data,\"col-headers\":_vm.colHeadersDisplay,\"read-only\":true,\"stretch-h\":\"all\"}})],1):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.ruleView == 'source')?_c('rule-modal-footer',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"rule-btn-cancel\",attrs:{\"title\":_vm.titleSourceCancel},on:{\"click\":_vm.cancelSourceEdit}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Cancel\"))+\"\\n        \")]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-reset-btn rule-btn-reset\",attrs:{\"title\":_vm.titleSourceReset}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Reset\"))+\"\\n        \")]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"rule-btn-okay\",attrs:{\"title\":_vm.titleSourceApply},on:{\"click\":_vm.attemptRulePreview}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Apply\"))+\"\\n        \")])],1):(_vm.ruleView == 'normal')?_c('rule-modal-footer',{scopedSlots:_vm._u([{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"rule-footer-inputs\"},[(_vm.elementsType == 'datasets')?_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Hide original elements\"))+\": \")]):_vm._e(),_vm._v(\" \"),(_vm.elementsType == 'datasets')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hideSourceItems),expression:\"hideSourceItems\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.hideSourceItems)?_vm._i(_vm.hideSourceItems,null)>-1:(_vm.hideSourceItems)},on:{\"change\":function($event){var $$a=_vm.hideSourceItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.hideSourceItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.hideSourceItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.hideSourceItems=$$c}}}}):_vm._e(),_vm._v(\" \"),(_vm.extension && _vm.showFileTypeSelector)?_c('div',{staticClass:\"rule-footer-extension-group\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Type\"))+\": \")]),_vm._v(\" \"),_c('select2',{staticClass:\"extension-select\",attrs:{\"name\":\"extension\"},model:{value:(_vm.extension),callback:function ($$v) {_vm.extension=$$v},expression:\"extension\"}},_vm._l((_vm.extensions),function(col){return _c('option',{key:col.id,domProps:{\"value\":col['id']}},[_vm._v(_vm._s(col[\"text\"]))])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.genome && _vm.showGenomeSelector)?_c('div',{staticClass:\"rule-footer-genome-group\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Genome\"))+\": \")]),_vm._v(\" \"),_c('select2',{staticClass:\"genome-select\",model:{value:(_vm.genome),callback:function ($$v) {_vm.genome=$$v},expression:\"genome\"}},_vm._l((_vm.genomes),function(col){return _c('option',{key:col.id,domProps:{\"value\":col['id']}},[_vm._v(_vm._s(col[\"text\"]))])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.showAddNameTag)?_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Add nametag for name\"))+\": \")]):_vm._e(),_vm._v(\" \"),(_vm.showAddNameTag)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addNameTag),expression:\"addNameTag\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addNameTag)?_vm._i(_vm.addNameTag,null)>-1:(_vm.addNameTag)},on:{\"change\":function($event){var $$a=_vm.addNameTag,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addNameTag=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addNameTag=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addNameTag=$$c}}}}):_vm._e(),_vm._v(\" \"),(_vm.showCollectionNameInput)?_c('div',{staticClass:\"rule-footer-name-group\"},[_c('b-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"collection-name\",attrs:{\"placeholder\":_vm.namePlaceholder,\"title\":_vm.namePlaceholder},model:{value:(_vm.collectionName),callback:function ($$v) {_vm.collectionName=$$v},expression:\"collectionName\"}}),_vm._v(\" \"),_c('label',[_vm._v(\" \"+_vm._s(_vm.l(\"Name\"))+\": \")])],1):_vm._e()])]},proxy:true}],null,false,2552130578)},[_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-cancel-btn rule-btn-cancel\",attrs:{\"help\":_vm.titleCancel,\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Cancel\"))+\"\\n        \")]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-reset-btn rule-btn-reset\",attrs:{\"title\":_vm.titleReset},on:{\"click\":_vm.resetRulesAndState}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Reset\"))+\"\\n        \")]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"create-collection rule-btn-okay\",attrs:{\"title\":_vm.titleFinish,\"variant\":\"primary\",\"disabled\":!_vm.validInput},on:{\"click\":_vm.createCollection}},[_vm._v(\"\\n            \"+_vm._s(_vm.finishButtonTitle)+\"\\n        \")])],1):_vm._e()],1):(_vm.state == 'wait')?_c('state-div',[(_vm.importType == 'datasets')?_c('rule-modal-header',[_vm._v(\"\\n        \"+_vm._s(_vm.l(\n                \"Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete.\"\n            ))+\"\\n    \")]):(_vm.importType == 'collections')?_c('rule-modal-header',[_vm._v(\"\\n        \"+_vm._s(_vm.l(\n                \"Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete.\"\n            ))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('rule-modal-footer',[_c('b-button',{staticClass:\"creator-cancel-btn\",attrs:{\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\" \"+_vm._s(_vm.l(\"Close\"))+\" \")])],1)],1):(_vm.state == 'error')?_c('state-div',[_c('rule-modal-header',[_vm._v(\" A problem was encountered. \")]),_vm._v(\" \"),_c('rule-modal-middle',[_c('p',{staticClass:\"errormessagelarge\"},[_vm._v(_vm._s(_vm.errorMessage))])]),_vm._v(\" \"),_c('rule-modal-footer',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-cancel-btn\",attrs:{\"title\":_vm.titleCancel,\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Close\"))+\"\\n        \")]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleErrorOkay,\"tabindex\":\"-1\"},on:{\"click\":function($event){_vm.state = 'build'}}},[_vm._v(\"\\n            \"+_vm._s(_vm.l(\"Okay\"))+\"\\n        \")])],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnSelector.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"rule-column-selector\" v-if=\"!multiple || !ordered\">\n        <label class=\"d-flex justify-content-end align-items-center\">\n            <span class=\"mr-auto\" v-b-tooltip.hover :title=\"help\">{{ label }}</span>\n            <div class=\"mr-1\" v-b-tooltip.hover :title=\"title\">\n                <select2 :value=\"target\" @input=\"handleInput\" :multiple=\"multiple\">\n                    <option v-for=\"(col, index) in colHeaders\" :value=\"index\" :key=\"col\">{{ col }}</option>\n                </select2>\n            </div>\n            <slot></slot>\n        </label>\n    </div>\n    <div class=\"rule-column-selector\" v-else>\n        <span>{{ label }}</span>\n        <slot></slot>\n        <ol>\n            <li v-for=\"(targetEl, index) in target\" :index=\"index\" :key=\"targetEl\" class=\"rule-column-selector-target\">\n                {{ colHeaders[targetEl] }}\n                <span class=\"fa fa-times rule-column-selector-target-remove\" @click=\"handleRemove(index)\"></span>\n                <span class=\"fa fa-arrow-up rule-column-selector-up\" v-if=\"index !== 0\" @click=\"moveUp(index)\"></span>\n                <span\n                    class=\"fa fa-arrow-down rule-column-selector-down\"\n                    v-if=\"index < target.length - 1\"\n                    @click=\"moveUp(index + 1)\"\n                ></span>\n            </li>\n            <li v-if=\"this.target.length < this.colHeaders.length\">\n                <span class=\"rule-column-selector-target-add\" v-if=\"!orderedEdit\">\n                    <i @click=\"$emit('update:orderedEdit', true)\">... {{ l(\"Assign Another Column\") }}</i>\n                </span>\n                <span class=\"rule-column-selector-target-select\" v-else>\n                    <select2 @input=\"handleAdd\" placeholder=\"Select a column\">\n                        <option /><!-- empty option selection for placeholder -->\n                        <option v-for=\"(col, index) in remainingHeaders\" :value=\"index\" :key=\"col\">{{ col }}</option>\n                    </select2>\n                </span>\n            </li>\n        </ol>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport _l from \"utils/localization\";\nimport Select2 from \"components/Select2\";\nexport default {\n    components: {\n        Select2,\n    },\n    data: function () {\n        return {\n            l: _l,\n        };\n    },\n    props: {\n        target: {\n            required: true,\n        },\n        label: {\n            required: false,\n            type: String,\n            default: _l(\"From Column\"),\n        },\n        help: {\n            required: false,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n        multiple: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        ordered: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        valueAsList: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        orderedEdit: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n    computed: {\n        remainingHeaders() {\n            const colHeaders = this.colHeaders;\n            if (!this.multiple) {\n                return colHeaders;\n            }\n            const remaining = {};\n            for (const key in colHeaders) {\n                if (this.target.indexOf(parseInt(key)) === -1) {\n                    remaining[key] = colHeaders[key];\n                }\n            }\n            return remaining;\n        },\n        title() {\n            return _l(\"Select a column\");\n        },\n    },\n    methods: {\n        handleInput(value) {\n            if (this.multiple) {\n                // https://stackoverflow.com/questions/262427/why-does-parseint-yield-nan-with-arraymap\n                const val = value.map((idx) => parseInt(idx));\n                this.$emit(\"update:target\", val);\n            } else {\n                let val = parseInt(value);\n                if (this.valueAsList) {\n                    val = [val];\n                }\n                this.$emit(\"update:target\", val);\n            }\n        },\n        handleAdd(value) {\n            this.target.push(parseInt(value));\n            this.$emit(\"update:orderedEdit\", false);\n        },\n        handleRemove(index) {\n            this.target.splice(index, 1);\n        },\n        moveUp(value) {\n            const swapVal = this.target[value - 1];\n            Vue.set(this.target, value - 1, this.target[value]);\n            Vue.set(this.target, value, swapVal);\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./ColumnSelector.vue?vue&type=template&id=15bb8e98&\"\nimport script from \"./ColumnSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ColumnSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.multiple || !_vm.ordered)?_c('div',{staticClass:\"rule-column-selector\"},[_c('label',{staticClass:\"d-flex justify-content-end align-items-center\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-auto\",attrs:{\"title\":_vm.help}},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-1\",attrs:{\"title\":_vm.title}},[_c('select2',{attrs:{\"value\":_vm.target,\"multiple\":_vm.multiple},on:{\"input\":_vm.handleInput}},_vm._l((_vm.colHeaders),function(col,index){return _c('option',{key:col,domProps:{\"value\":index}},[_vm._v(_vm._s(col))])}),0)],1),_vm._v(\" \"),_vm._t(\"default\")],2)]):_c('div',{staticClass:\"rule-column-selector\"},[_c('span',[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('ol',[_vm._l((_vm.target),function(targetEl,index){return _c('li',{key:targetEl,staticClass:\"rule-column-selector-target\",attrs:{\"index\":index}},[_vm._v(\"\\n            \"+_vm._s(_vm.colHeaders[targetEl])+\"\\n            \"),_c('span',{staticClass:\"fa fa-times rule-column-selector-target-remove\",on:{\"click\":function($event){return _vm.handleRemove(index)}}}),_vm._v(\" \"),(index !== 0)?_c('span',{staticClass:\"fa fa-arrow-up rule-column-selector-up\",on:{\"click\":function($event){return _vm.moveUp(index)}}}):_vm._e(),_vm._v(\" \"),(index < _vm.target.length - 1)?_c('span',{staticClass:\"fa fa-arrow-down rule-column-selector-down\",on:{\"click\":function($event){return _vm.moveUp(index + 1)}}}):_vm._e()])}),_vm._v(\" \"),(this.target.length < this.colHeaders.length)?_c('li',[(!_vm.orderedEdit)?_c('span',{staticClass:\"rule-column-selector-target-add\"},[_c('i',{on:{\"click\":function($event){return _vm.$emit('update:orderedEdit', true)}}},[_vm._v(\"... \"+_vm._s(_vm.l(\"Assign Another Column\")))])]):_c('span',{staticClass:\"rule-column-selector-target-select\"},[_c('select2',{attrs:{\"placeholder\":\"Select a column\"},on:{\"input\":_vm.handleAdd}},[_c('option'),_vm._v(\" \"),_vm._l((_vm.remainingHeaders),function(col,index){return _c('option',{key:col,domProps:{\"value\":index}},[_vm._v(_vm._s(col))])})],2)],1)]):_vm._e()],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegularExpressionInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegularExpressionInput.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <label for=\"regular_expression\" v-b-tooltip.hover :title=\"title\">{{ label }}</label>\n        <span v-b-popover.html=\"popoverContent\" :title=\"popoverTitle\" class=\"fa fa-question\"></span>\n        <input\n            v-b-tooltip.hover.left\n            :title=\"title\"\n            name=\"regular_expression\"\n            class=\"rule-regular-expression\"\n            type=\"text\"\n            :value=\"target\"\n            @input=\"$emit('update:target', $event.target.value)\"\n        />\n    </div>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\n\nexport default {\n    props: {\n        target: {\n            required: true,\n        },\n    },\n    computed: {\n        label() {\n            return _l(\"Regular Expression\");\n        },\n        title() {\n            return _l(\"Enter a regular expression.\");\n        },\n        popoverTitle() {\n            return _l(\"Regular Expressions\");\n        },\n        popoverContent() {\n            return _l(\n                `Regular expressions are patterns used to match character combinations in strings. This input accepts Python-style regular expressions, find more information about these in <a href=\"https://pythonforbiologists.com/regular-expressions/\">this Python for Biologists tutorial</a>.`\n            );\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./RegularExpressionInput.vue?vue&type=template&id=367bed25&\"\nimport script from \"./RegularExpressionInput.vue?vue&type=script&lang=js&\"\nexport * from \"./RegularExpressionInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"for\":\"regular_expression\",\"title\":_vm.title}},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.html\",value:(_vm.popoverContent),expression:\"popoverContent\",modifiers:{\"html\":true}}],staticClass:\"fa fa-question\",attrs:{\"title\":_vm.popoverTitle}}),_vm._v(\" \"),_c('input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.left\",modifiers:{\"hover\":true,\"left\":true}}],staticClass:\"rule-regular-expression\",attrs:{\"title\":_vm.title,\"name\":\"regular_expression\",\"type\":\"text\"},domProps:{\"value\":_vm.target},on:{\"input\":function($event){return _vm.$emit('update:target', $event.target.value)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"rule\">\n        <span class=\"rule-display\">\n            <span class=\"mr-1\">{{ title }}</span>\n            <span v-b-tooltip.hover :title=\"editTitle\" class=\"fa fa-edit mr-1\" @click=\"edit\"></span>\n            <span v-b-tooltip.hover :title=\"removeTitle\" class=\"fa fa-times map\" @click=\"remove\"></span>\n        </span>\n        <span class=\"rule-warning\" v-if=\"rule.warn\">\n            {{ rule.warn }}\n        </span>\n        <span class=\"rule-error\" v-if=\"rule.error\">\n            <span class=\"alert-message\">{{ rule.error }}</span>\n        </span>\n    </li>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst RULES = RuleDefs.RULES;\n\nexport default {\n    props: {\n        rule: {\n            required: true,\n            type: Object,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n    },\n    computed: {\n        title() {\n            const ruleType = this.rule.type;\n            return RULES[ruleType].display(this.rule, this.colHeaders);\n        },\n        editTitle() {\n            return _l(\"Edit this rule.\");\n        },\n        removeTitle() {\n            return _l(\"Remove this rule.\");\n        },\n    },\n    methods: {\n        edit() {\n            this.$emit(\"edit\");\n        },\n        remove() {\n            this.$emit(\"remove\");\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleDisplay.vue?vue&type=template&id=0bb1d83f&\"\nimport script from \"./RuleDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"rule\"},[_c('span',{staticClass:\"rule-display\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-edit mr-1\",attrs:{\"title\":_vm.editTitle},on:{\"click\":_vm.edit}}),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times map\",attrs:{\"title\":_vm.removeTitle},on:{\"click\":_vm.remove}})]),_vm._v(\" \"),(_vm.rule.warn)?_c('span',{staticClass:\"rule-warning\"},[_vm._v(\"\\n        \"+_vm._s(_vm.rule.warn)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.rule.error)?_c('span',{staticClass:\"rule-error\"},[_c('span',{staticClass:\"alert-message\"},[_vm._v(_vm._s(_vm.rule.error))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"rule\">\n        <span v-b-tooltip.hover :title=\"help\">Set {{ columnsLabel }} as {{ typeDisplay }}</span>\n        <span v-b-tooltip.hover :title=\"titleEdit\" class=\"fa fa-edit\" @click=\"edit\"></span>\n        <span v-b-tooltip.hover :title=\"titleRemove\" class=\"fa fa-times\" @click=\"remove\"></span>\n    </li>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst MAPPING_TARGETS = RuleDefs.MAPPING_TARGETS;\n\nexport default {\n    props: {\n        type: {\n            type: String,\n            required: true,\n        },\n        columns: {\n            required: true,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n    },\n    methods: {\n        remove() {\n            this.$emit(\"remove\");\n        },\n        edit() {\n            this.$emit(\"edit\");\n        },\n    },\n    computed: {\n        typeDisplay() {\n            return MAPPING_TARGETS[this.type].label;\n        },\n        help() {\n            return MAPPING_TARGETS[this.type].help || \"\";\n        },\n        titleEdit() {\n            return _l(\"Edit column definition\");\n        },\n        titleRemove() {\n            return _l(\"Remove this column definition\");\n        },\n        columnsLabel() {\n            return RuleDefs.columnDisplay(this.columns, this.colHeaders);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdentifierDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdentifierDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdentifierDisplay.vue?vue&type=template&id=78468818&\"\nimport script from \"./IdentifierDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./IdentifierDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"rule\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.help}},[_vm._v(\"Set \"+_vm._s(_vm.columnsLabel)+\" as \"+_vm._s(_vm.typeDisplay))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-edit\",attrs:{\"title\":_vm.titleEdit},on:{\"click\":_vm.edit}}),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times\",attrs:{\"title\":_vm.titleRemove},on:{\"click\":_vm.remove}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a\n        class=\"rule-link dropdown-item\"\n        href=\"javascript:void(0)\"\n        :class=\"linkClassName\"\n        @click=\"builder.addNewRule(ruleType)\"\n        >{{ title }}</a\n    >\n</template>\n\n<script>\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst RULES = RuleDefs.RULES;\n\nexport default {\n    props: {\n        ruleType: {\n            type: String,\n            required: true,\n        },\n        builder: {\n            required: true,\n        },\n    },\n    computed: {\n        linkClassName() {\n            return \"rule-link-\" + this.ruleType.replace(/_/g, \"-\");\n        },\n        title() {\n            return RULES[this.ruleType].title;\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleTargetComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleTargetComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleTargetComponent.vue?vue&type=template&id=1da451da&\"\nimport script from \"./RuleTargetComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleTargetComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"rule-link dropdown-item\",class:_vm.linkClassName,attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.builder.addNewRule(_vm.ruleType)}}},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleComponent.vue?vue&type=script&lang=js&\"","<template>\n    <div v-if=\"ruleType == displayRuleType\" class=\"rule-editor\" :class=\"typeToClass\">\n        <slot></slot>\n        <div class=\"buttons rule-edit-buttons d-flex justify-content-end\">\n            <button type=\"button\" class=\"btn rule-editor-cancel mr-1\" @click=\"cancel\">{{ cancelLabel }}</button>\n            <button type=\"button\" class=\"btn btn-primary rule-editor-ok\" @click=\"okay\">{{ applyLabel }}</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\n\nexport default {\n    data: function () {\n        return {\n            applyLabel: _l(\"Apply\"),\n            cancelLabel: _l(\"Cancel\"),\n        };\n    },\n    props: {\n        ruleType: {\n            type: String,\n            required: true,\n        },\n        displayRuleType: {\n            required: true,\n        },\n        builder: {\n            required: true,\n        },\n    },\n    methods: {\n        cancel() {\n            this.builder.displayRuleType = null;\n        },\n        okay() {\n            this.builder.handleRuleSave(this.ruleType);\n            this.cancel();\n        },\n    },\n    computed: {\n        typeToClass() {\n            return \"rule-edit-\" + this.ruleType.replace(/_/g, \"-\");\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./RuleComponent.vue?vue&type=template&id=5fab4518&\"\nimport script from \"./RuleComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ruleType == _vm.displayRuleType)?_c('div',{staticClass:\"rule-editor\",class:_vm.typeToClass},[_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"buttons rule-edit-buttons d-flex justify-content-end\"},[_c('button',{staticClass:\"btn rule-editor-cancel mr-1\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelLabel))]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary rule-editor-ok\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.okay}},[_vm._v(_vm._s(_vm.applyLabel))])])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalHeader.vue?vue&type=template&id=5d146a0d&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header flex-row no-flex\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalMiddle.vue?vue&type=template&id=68e2c02e&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"middle flex-row flex-row-container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalFooter.vue?vue&type=template&id=63133030&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rule-footer footer flex-row no-flex\"},[_vm._t(\"inputs\"),_vm._v(\" \"),_c('div',{staticClass:\"actions clear vertically-spaced\"},[_c('div',{staticClass:\"main-options float-right\"},[_vm._t(\"default\")],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./StateDiv.vue?vue&type=template&id=423c5384&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rule-collection-creator collection-creator flex-row-container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <state-div v-if=\"state == 'build'\">\n        <!-- Different instructions if building up from individual datasets vs.\n             initial data import. -->\n        <rule-modal-header v-if=\"ruleView == 'source'\">\n            Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced setting.\n        </rule-modal-header>\n        <rule-modal-header v-else-if=\"elementsType == 'datasets' || elementsType == 'library_datasets'\">\n            Use this form to describe rules for building collection(s) from the specified datasets.\n            <b>Be sure to specify at least one column as a list identifier</b> - specify more to created nested list\n            structures. Specify a column to serve as \"collection name\" to group datasets into multiple collections.\n        </rule-modal-header>\n        <!-- This modality allows importing individual datasets, multiple collections,\n             and requires a data source - note that. -->\n        <rule-modal-header v-else-if=\"importType == 'datasets'\">\n            Use this form to describe rules for import datasets. At least one column should be defined to a source to\n            fetch data from (URLs, FTP files, etc...).\n        </rule-modal-header>\n        <rule-modal-header v-else>\n            Use this form to describe rules for import datasets. At least one column should be defined to a source to\n            fetch data from (URLs, FTP files, etc...).\n            <b>Be sure to specify at least one column as a list identifier</b> - specify more to created nested list\n            structures. Specify a column to serve as \"collection name\" to group datasets into multiple collections.\n        </rule-modal-header>\n        <rule-modal-middle v-if=\"ruleView == 'source'\">\n            <p class=\"errormessagelarge\" v-if=\"ruleSourceError\">{{ ruleSourceError }}</p>\n            <textarea class=\"rule-source\" v-model=\"ruleSource\"></textarea>\n        </rule-modal-middle>\n        <rule-modal-middle v-else>\n            <!-- column-headers -->\n            <div\n                class=\"rule-builder-body vertically-spaced\"\n                :class=\"{ 'flex-column-container': vertical }\"\n                v-if=\"ruleView == 'normal'\"\n            >\n                <!-- width: 30%; -->\n                <div class=\"rule-column\" :class=\"orientation\">\n                    <div\n                        class=\"rules-container\"\n                        :class=\"{\n                            'rules-container-vertical': initialElements && vertical,\n                            'rules-container-horizontal': initialElements && horizontal,\n                            'rules-container-full': initialElements == null,\n                        }\"\n                    >\n                        <rule-component rule-type=\"sort\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector :target.sync=\"addSortingTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label v-b-tooltip.hover :title=\"titleNumericSort\">\n                                <input type=\"checkbox\" v-model=\"addSortingNumeric\" /> {{ l(\"Numeric sorting.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_basename\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addColumnBasenameTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_rownum\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"Starting from\") }} <input type=\"number\" v-model=\"addColumnRownumStart\" min=\"0\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_metadata\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"For\") }}\n                                <select v-model=\"addColumnMetadataValue\">\n                                    <!-- eslint-disable-next-line vue/require-v-for-key -->\n                                    <option v-for=\"(col, index) in metadataOptions\" :value=\"index\">{{ col }}</option>\n                                </select>\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_group_tag_value\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"Value\") }} <input type=\"text\" v-model=\"addColumnGroupTagValueValue\" />\n                            </label>\n                            <label>\n                                {{ l(\"Default\") }} <input type=\"text\" v-model=\"addColumnGroupTagValueDefault\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_regex\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addColumnRegexTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label\n                                ><input type=\"radio\" v-model=\"addColumnRegexType\" value=\"global\" />Create column\n                                matching expression.</label\n                            ><br />\n                            <label\n                                ><input type=\"radio\" v-model=\"addColumnRegexType\" value=\"groups\" />Create columns\n                                matching expression groups.</label\n                            ><br />\n                            <label\n                                ><input type=\"radio\" v-model=\"addColumnRegexType\" value=\"replacement\" />Create column\n                                from expression replacement.</label\n                            ><br />\n                            <regular-expression-input :target.sync=\"addColumnRegexExpression\" />\n                            <label v-if=\"addColumnRegexType == 'groups'\">\n                                {{ l(\"Number of Groups\") }}\n                                <input type=\"number\" v-model=\"addColumnRegexGroupCount\" min=\"1\" />\n                            </label>\n                            <label v-if=\"addColumnRegexType == 'replacement'\">\n                                {{ l(\"Replacement Expression\") }}\n                                <input type=\"text\" v-model=\"addColumnRegexReplacement\" class=\"rule-replacement\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_concatenate\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addColumnConcatenateTarget0\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <column-selector\n                                :target.sync=\"addColumnConcatenateTarget1\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_substr\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addColumnSubstrTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label>\n                                <select v-model=\"addColumnSubstrType\">\n                                    <option value=\"keep_prefix\">Keep only prefix specified.</option>\n                                    <option value=\"drop_prefix\">Strip off prefix specified.</option>\n                                    <option value=\"keep_suffix\">Keep only suffix specified.</option>\n                                    <option value=\"drop_suffix\">Strip off suffix specified.</option>\n                                </select>\n                            </label>\n                            <label>\n                                {{ l(\"Prefix or suffix length\") }}\n                                <input type=\"number\" v-model=\"addColumnSubstrLength\" min=\"0\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_value\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label> {{ l(\"Value\") }} <input type=\"text\" v-model=\"addColumnValue\" /> </label>\n                        </rule-component>\n                        <rule-component rule-type=\"remove_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"removeColumnTargets\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                        </rule-component>\n                        <rule-component rule-type=\"split_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"splitColumnsTargets0\"\n                                label=\"Odd Row Column(s)\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                            <column-selector\n                                :target.sync=\"splitColumnsTargets1\"\n                                label=\"Even Row Column(s)\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                        </rule-component>\n                        <rule-component rule-type=\"swap_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"swapColumnsTarget0\"\n                                label=\"Swap Column\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <column-selector\n                                :target.sync=\"swapColumnsTarget1\"\n                                label=\"With Column\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_regex\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addFilterRegexTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <regular-expression-input :target.sync=\"addFilterRegexExpression\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterRegex\">\n                                <input type=\"checkbox\" v-model=\"addFilterRegexInvert\" /> {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_matches\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addFilterMatchesTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <input type=\"text\" v-model=\"addFilterMatchesValue\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterMatches\">\n                                <input type=\"checkbox\" v-model=\"addFilterMatchesInvert\" /> {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_compare\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addFilterCompareTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <label>\n                                Filter out rows\n                                <select v-model=\"addFilterCompareType\">\n                                    <option value=\"less_than\">{{ l(\"less than\") }} </option>\n                                    <option value=\"less_than_equal\">{{ l(\"less than or equal to\") }}</option>\n                                    <option value=\"greater_than\">{{ l(\"greater than\") }}</option>\n                                    <option value=\"greater_than_equal\">{{ l(\"greater than or equal to\") }}</option>\n                                </select>\n                            </label>\n                            <input type=\"text\" v-model=\"addFilterCompareValue\" />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_count\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                Filter which rows?\n                                <select v-model=\"addFilterCountWhich\">\n                                    <option value=\"first\">first</option>\n                                    <option value=\"last\">last</option>\n                                </select>\n                            </label>\n                            <label> Filter how many rows? <input type=\"number\" v-model=\"addFilterCountN\" /> </label>\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterMatches\">\n                                <input type=\"checkbox\" v-model=\"addFilterCountInvert\" /> {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_empty\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addFilterEmptyTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterEmpty\">\n                                <input type=\"checkbox\" v-model=\"addFilterEmptyInvert\" /> {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <div v-if=\"displayRuleType == 'mapping'\">\n                            <div class=\"map\" v-for=\"(map, index) in mapping\" :index=\"index\" :key=\"map.type\">\n                                <column-selector\n                                    :class=\"'rule-map-' + map.type.replace(/_/g, '-')\"\n                                    :label=\"mappingTargets()[map.type].label\"\n                                    :help=\"mappingTargets()[map.type].help\"\n                                    :target.sync=\"map.columns\"\n                                    :ordered-edit.sync=\"map.editing\"\n                                    :col-headers=\"colHeaders\"\n                                    :multiple=\"mappingTargets()[map.type].multiple\"\n                                    :ordered=\"true\"\n                                    :value-as-list=\"true\"\n                                >\n                                    <span\n                                        v-b-tooltip.hover\n                                        :title=\"titleRemoveMapping\"\n                                        class=\"fa fa-times\"\n                                        @click=\"removeMapping(index)\"\n                                    ></span>\n                                </column-selector>\n                            </div>\n                            <div class=\"buttons rule-edit-buttons d-flex justify-content-end\">\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-toggle btn btn-primary mr-1\"\n                                    data-toggle=\"dropdown\"\n                                    v-if=\"unmappedTargets.length > 0\"\n                                >\n                                    <span class=\"fa fa-plus rule-add-mapping\"></span> {{ \"Add Definition\"\n                                    }}<span class=\"caret\"></span>\n                                </button>\n                                <div class=\"dropdown-menu\" role=\"menu\">\n                                    <a\n                                        v-for=\"target in unmappedTargets\"\n                                        :index=\"target\"\n                                        :key=\"target\"\n                                        class=\"dropdown-item\"\n                                        href=\"javascript:void(0)\"\n                                        :class=\"'rule-add-mapping-' + target.replace(/_/g, '-')\"\n                                        @click=\"addIdentifier(target)\"\n                                    >\n                                        {{ mappingTargets()[target].label }}\n                                    </a>\n                                </div>\n                                <b-button\n                                    v-b-tooltip.hover.bottom\n                                    :title=\"titleApplyColumnDefinitions\"\n                                    class=\"rule-mapping-ok\"\n                                    v-if=\"!hasActiveMappingEdit\"\n                                    @click=\"displayRuleType = null\"\n                                    >{{ l(\"Apply\") }}</b-button\n                                >\n                            </div>\n                        </div>\n                        <div class=\"rule-summary\" v-if=\"displayRuleType == null\">\n                            <span class=\"title\">\n                                {{ l(\"Rules\") }}\n                                <span\n                                    v-b-tooltip.hover\n                                    class=\"fa fa-wrench rule-builder-view-source\"\n                                    :title=\"titleViewSource\"\n                                    @click=\"viewSource\"\n                                ></span>\n                            </span>\n                            <div v-if=\"jaggedData\" class=\"rule-warning\">\n                                Rows contain differing numbers of columns, there was likely a problem parsing your data.\n                            </div>\n                            <ol class=\"rules\">\n                                <!-- Example at the end of https://vuejs.org/v2/guide/list.html -->\n                                <rule-display\n                                    v-for=\"(rule, index) in rules\"\n                                    :rule=\"rule\"\n                                    :index=\"index\"\n                                    :key=\"index\"\n                                    @edit=\"editRule(rule, index)\"\n                                    @remove=\"removeRule(index)\"\n                                    :col-headers=\"colHeadersPerRule[index]\"\n                                />\n                                <identifier-display\n                                    v-for=\"(map, index) in mapping\"\n                                    v-bind=\"map\"\n                                    :index=\"index\"\n                                    :key=\"map.type\"\n                                    @remove=\"removeMapping(index)\"\n                                    @edit=\"displayRuleType = 'mapping'\"\n                                    @mouseover.native=\"map.columns.forEach((col) => highlightColumn(col))\"\n                                    @mouseout.native=\"map.columns.forEach((col) => unhighlightColumn(col))\"\n                                    :col-headers=\"colHeaders\"\n                                />\n                                <div v-if=\"mapping.length == 0\">\n                                    One or more column definitions must be specified. These are required to specify how\n                                    to build collections and datasets from rows and columns of the table.\n                                    <a href=\"javascript:void(0)\" @click=\"displayRuleType = 'mapping'\">Click here</a> to\n                                    manage column definitions.\n                                </div>\n                            </ol>\n                            <div class=\"rules-buttons\">\n                                <div class=\"btn-group dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleRulesMenu\"\n                                        class=\"rule-menu-rules-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span> {{ l(\"Rules\") }}<span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"sort\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"remove_columns\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"split_columns\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"swap_columns\" />\n                                        <a\n                                            href=\"javascript:void(0)\"\n                                            class=\"dropdown-item rule-link rule-link-mapping\"\n                                            @click=\"displayRuleType = 'mapping'\"\n                                            >Add / Modify Column Definitions</a\n                                        >\n                                    </div>\n                                </div>\n                                <div class=\"btn-group dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleFilterMenu\"\n                                        class=\"rule-menu-filter-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span> {{ l(\"Filter\") }}<span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_regex\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_matches\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_compare\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_empty\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_count\" />\n                                    </div>\n                                </div>\n                                <div class=\"btn-group dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleColumMenu\"\n                                        class=\"rule-menu-column-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span> {{ l(\"Column\") }}<span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_basename\" />\n                                        <rule-target-component\n                                            :builder=\"this\"\n                                            rule-type=\"add_column_metadata\"\n                                            v-if=\"metadataOptions\"\n                                        />\n                                        <rule-target-component\n                                            :builder=\"this\"\n                                            rule-type=\"add_column_group_tag_value\"\n                                            v-if=\"hasTagsMetadata\"\n                                        />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_regex\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_concatenate\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_rownum\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_value\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_substr\" />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!--  flex-column column -->\n                <!--  style=\"width: 70%;\" -->\n                <div class=\"table-column\" :class=\"orientation\" style=\"width: 100%;\" v-if=\"initialElements !== null\">\n                    <hot-table\n                        id=\"hot-table\"\n                        ref=\"hotTable\"\n                        :data=\"hotData.data\"\n                        :col-headers=\"colHeadersDisplay\"\n                        :read-only=\"true\"\n                        stretch-h=\"all\"\n                    >\n                    </hot-table>\n                </div>\n            </div>\n        </rule-modal-middle>\n        <rule-modal-footer v-if=\"ruleView == 'source'\">\n            <b-button v-b-tooltip.hover :title=\"titleSourceCancel\" @click=\"cancelSourceEdit\" class=\"rule-btn-cancel\">\n                {{ l(\"Cancel\") }}\n            </b-button>\n            <b-button v-b-tooltip.hover :title=\"titleSourceReset\" class=\"creator-reset-btn rule-btn-reset\">\n                {{ l(\"Reset\") }}\n            </b-button>\n            <b-button v-b-tooltip.hover :title=\"titleSourceApply\" @click=\"attemptRulePreview\" class=\"rule-btn-okay\">\n                {{ l(\"Apply\") }}\n            </b-button>\n        </rule-modal-footer>\n        <rule-modal-footer v-else-if=\"ruleView == 'normal'\">\n            <template v-slot:inputs>\n                <div class=\"rule-footer-inputs\">\n                    <label v-if=\"elementsType == 'datasets'\"> {{ l(\"Hide original elements\") }}: </label>\n                    <input type=\"checkbox\" v-model=\"hideSourceItems\" v-if=\"elementsType == 'datasets'\" />\n                    <div class=\"rule-footer-extension-group\" v-if=\"extension && showFileTypeSelector\">\n                        <label> {{ l(\"Type\") }}: </label>\n                        <select2 name=\"extension\" class=\"extension-select\" v-model=\"extension\">\n                            <option v-for=\"col in extensions\" :value=\"col['id']\" :key=\"col.id\">{{\n                                col[\"text\"]\n                            }}</option>\n                        </select2>\n                    </div>\n                    <div class=\"rule-footer-genome-group\" v-if=\"genome && showGenomeSelector\">\n                        <label> {{ l(\"Genome\") }}: </label>\n                        <select2 class=\"genome-select\" v-model=\"genome\">\n                            <option v-for=\"col in genomes\" :value=\"col['id']\" :key=\"col.id\">{{ col[\"text\"] }}</option>\n                        </select2>\n                    </div>\n                    <label v-if=\"showAddNameTag\"> {{ l(\"Add nametag for name\") }}: </label>\n                    <input type=\"checkbox\" v-model=\"addNameTag\" v-if=\"showAddNameTag\" />\n                    <div class=\"rule-footer-name-group\" v-if=\"showCollectionNameInput\">\n                        <b-input\n                            class=\"collection-name\"\n                            :placeholder=\"namePlaceholder\"\n                            :title=\"namePlaceholder\"\n                            v-b-tooltip.hover\n                            v-model=\"collectionName\"\n                        />\n                        <label> {{ l(\"Name\") }}: </label>\n                    </div>\n                </div>\n            </template>\n\n            <b-button\n                v-b-tooltip.hover\n                :help=\"titleCancel\"\n                @click=\"cancel\"\n                class=\"creator-cancel-btn rule-btn-cancel\"\n                tabindex=\"-1\"\n            >\n                {{ l(\"Cancel\") }}\n            </b-button>\n            <b-button\n                v-b-tooltip.hover\n                @click=\"resetRulesAndState\"\n                :title=\"titleReset\"\n                class=\"creator-reset-btn rule-btn-reset\"\n            >\n                {{ l(\"Reset\") }}\n            </b-button>\n            <b-button\n                v-b-tooltip.hover\n                @click=\"createCollection\"\n                :title=\"titleFinish\"\n                class=\"create-collection rule-btn-okay\"\n                variant=\"primary\"\n                :disabled=\"!validInput\"\n            >\n                {{ finishButtonTitle }}\n            </b-button>\n        </rule-modal-footer>\n    </state-div>\n    <state-div v-else-if=\"state == 'wait'\">\n        <rule-modal-header v-if=\"importType == 'datasets'\">\n            {{\n                l(\n                    \"Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete.\"\n                )\n            }}\n        </rule-modal-header>\n        <rule-modal-header v-else-if=\"importType == 'collections'\">\n            {{\n                l(\n                    \"Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete.\"\n                )\n            }}\n        </rule-modal-header>\n        <rule-modal-footer>\n            <b-button @click=\"cancel\" class=\"creator-cancel-btn\" tabindex=\"-1\"> {{ l(\"Close\") }} </b-button>\n        </rule-modal-footer>\n    </state-div>\n    <state-div v-else-if=\"state == 'error'\">\n        <!-- TODO: steal styling from paired collection builder warning... -->\n        <rule-modal-header> A problem was encountered. </rule-modal-header>\n        <rule-modal-middle>\n            <p class=\"errormessagelarge\">{{ errorMessage }}</p>\n        </rule-modal-middle>\n        <rule-modal-footer>\n            <b-button v-b-tooltip.hover :title=\"titleCancel\" @click=\"cancel\" class=\"creator-cancel-btn\" tabindex=\"-1\">\n                {{ l(\"Close\") }}\n            </b-button>\n            <b-button v-b-tooltip.hover :title=\"titleErrorOkay\" @click=\"state = 'build'\" tabindex=\"-1\">\n                {{ l(\"Okay\") }}\n            </b-button>\n        </rule-modal-footer>\n    </state-div>\n</template>\n<script>\nimport $ from \"jquery\";\nimport _ from \"underscore\";\nimport { getAppRoot } from \"onload/loadConfig\";\nimport { getGalaxyInstance } from \"app\";\nimport AjaxQueue from \"utils/ajax-queue\";\nimport axios from \"axios\";\nimport _l from \"utils/localization\";\nimport HotTable from \"@handsontable/vue\";\nimport UploadUtils from \"mvc/upload/upload-utils\";\nimport JobStatesModel from \"mvc/history/job-states-model\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nimport Vue from \"vue\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport Select2 from \"components/Select2\";\nimport ColumnSelector from \"components/RuleBuilder/ColumnSelector\";\nimport RegularExpressionInput from \"components/RuleBuilder/RegularExpressionInput\";\nimport RuleDisplay from \"components/RuleBuilder/RuleDisplay\";\nimport IdentifierDisplay from \"components/RuleBuilder/IdentifierDisplay\";\nimport RuleTargetComponent from \"components/RuleBuilder/RuleTargetComponent\";\nimport RuleComponent from \"components/RuleBuilder/RuleComponent\";\nimport RuleModalHeader from \"components/RuleBuilder/RuleModalHeader\";\nimport RuleModalMiddle from \"components/RuleBuilder/RuleModalMiddle\";\nimport RuleModalFooter from \"components/RuleBuilder/RuleModalFooter\";\nimport StateDiv from \"components/RuleBuilder/StateDiv\";\n\nVue.use(BootstrapVue);\n\nconst RULES = RuleDefs.RULES;\nconst MAPPING_TARGETS = RuleDefs.MAPPING_TARGETS;\n\nexport default {\n    data: function () {\n        let orientation = \"vertical\";\n        let mapping;\n        let rules;\n        if (this.initialRules) {\n            mapping = this.initialRules.mapping.slice();\n            rules = this.initialRules.rules.slice();\n        } else {\n            if (this.elementsType == \"ftp\") {\n                mapping = [{ type: \"ftp_path\", columns: [0] }];\n            } else if (this.elementsType == \"datasets\") {\n                mapping = [{ type: \"list_identifiers\", columns: [1] }];\n            } else {\n                mapping = [];\n            }\n            rules = [];\n            if (this.elementsType == \"collection_contents\") {\n                if (this.initialElements !== null) {\n                    const collectionType = this.initialElements.collection_type;\n                    const collectionTypeRanks = collectionType.split(\":\");\n                    for (const index in collectionTypeRanks) {\n                        rules.push({\n                            type: \"add_column_metadata\",\n                            value: \"identifier\" + index,\n                        });\n                    }\n                } else {\n                    orientation = \"horizontal\";\n                    // just assume a list is given by default.\n                    rules.push({\n                        type: \"add_column_metadata\",\n                        value: \"identifier0\",\n                    });\n                }\n            } else if (this.elementsType == \"datasets\") {\n                rules.push(\n                    {\n                        type: \"add_column_metadata\",\n                        value: \"hid\",\n                    },\n                    {\n                        type: \"add_column_metadata\",\n                        value: \"name\",\n                    }\n                );\n            } else if (this.elementsType == \"library_datasets\") {\n                rules.push({\n                    type: \"add_column_metadata\",\n                    value: \"name\",\n                });\n            } else if (this.elementsType == \"ftp\") {\n                rules.push({\n                    type: \"add_column_metadata\",\n                    value: \"path\",\n                });\n            }\n        }\n        return {\n            rules: rules,\n            mapping: mapping,\n            state: \"build\", // 'build', 'error', 'wait',\n            ruleView: \"normal\", // 'normal' or 'source'\n            ruleSource: \"\",\n            ruleSourceJson: null,\n            ruleSourceError: null,\n            errorMessage: \"\",\n            jaggedData: false,\n            waitingJobState: \"new\",\n            titleReset: _l(\"Undo all reordering and discards\"),\n            titleNumericSort: _l(\n                \"By default columns will be sorted lexicographically, check this option if the columns are numeric values and should be sorted as numbers\"\n            ),\n            titleInvertFilterRegex: _l(\"Remove rows not matching the specified regular expression at specified column\"),\n            titleInvertFilterEmpty: _l(\"Remove rows that have non-empty values at specified column\"),\n            titleInvertFilterMatches: _l(\"Remove rows not matching supplied value\"),\n            titleViewSource: _l(\n                \"Advanced Option: View and or edit the JSON representation of the rules to apply to this tabular data\"\n            ),\n            titleSourceCancel: _l(\"Stop editing rules and dismiss changes\"),\n            titleSourceReset: _l(\"Reset text area to current set of rules\"),\n            titleSourceApply: _l(\"Apply changes to rule source and return to rule preview\"),\n            titleRulesMenu: _l(\"General rules to apply\"),\n            titleFilterMenu: _l(\"Rules that filter rows from the data\"),\n            titleColumMenu: _l(\"Rules that generate new columns\"),\n            titleRemoveMapping: _l(\"Remove column definition assignment\"),\n            titleApplyColumnDefinitions: _l(\"Apply these column definitions and return to rules preview\"),\n            titleErrorOkay: _l(\"Dismiss this error and return to the rule builder to try again with new rules\"),\n            namePlaceholder: _l(\"Enter a name for your new collection\"),\n            activeRuleIndex: null,\n            addColumnRegexTarget: 0,\n            addColumnBasenameTarget: 0,\n            addColumnRegexExpression: \"\",\n            addColumnRegexReplacement: null,\n            addColumnRegexGroupCount: null,\n            addColumnRegexType: \"global\",\n            addColumnMetadataValue: 0,\n            addColumnGroupTagValueValue: \"\",\n            addColumnGroupTagValueDefault: \"\",\n            addColumnConcatenateTarget0: 0,\n            addColumnConcatenateTarget1: 0,\n            addColumnRownumStart: 1,\n            addColumnSubstrTarget: 0,\n            addColumnSubstrType: \"keep_prefix\",\n            addColumnSubstrLength: 1,\n            addColumnValue: \"\",\n            removeColumnTargets: [],\n            addFilterRegexTarget: 0,\n            addFilterRegexExpression: \"\",\n            addFilterRegexInvert: false,\n            addFilterMatchesTarget: 0,\n            addFilterMatchesValue: \"\",\n            addFilterMatchesInvert: false,\n            addFilterEmptyTarget: 0,\n            addFilterEmptyInvert: false,\n            addFilterCompareTarget: 0,\n            addFilterCompareValue: 0,\n            addFilterCompareType: \"less_than\",\n            addFilterCountN: 1,\n            addFilterCountInvert: false,\n            addFilterCountWhich: \"first\",\n            addSortingTarget: 0,\n            addSortingNumeric: false,\n            splitColumnsTargets0: [],\n            splitColumnsTargets1: [],\n            swapColumnsTarget0: 0,\n            swapColumnsTarget1: 0,\n            collectionName: \"\",\n            displayRuleType: null,\n            extensions: [],\n            extension: null,\n            genomes: [],\n            genome: null,\n            hideSourceItems: this.defaultHideSourceItems,\n            addNameTag: false,\n            orientation: orientation,\n        };\n    },\n    props: {\n        initialElements: {\n            required: true,\n        },\n        importType: {\n            type: String,\n            required: false,\n            default: \"collections\",\n        },\n        elementsType: {\n            type: String,\n            required: false,\n            default: \"datasets\",\n        },\n        // required if elementsType is \"datasets\" - hook into Backbone code for creating\n        // collections from HDAs, etc...\n        creationFn: {\n            required: false,\n            type: Function,\n        },\n        // required if elementsType is \"collection_contents\" - hook into tool form to update\n        // rule parameter\n        saveRulesFn: {\n            required: false,\n            type: Function,\n        },\n        initialRules: {\n            required: false,\n            type: Object,\n        },\n        defaultHideSourceItems: {\n            type: Boolean,\n            required: false,\n            default: true,\n        },\n        // Callbacks sent in by modal code.\n        oncancel: {\n            required: true,\n            type: Function,\n        },\n        oncreate: {\n            required: true,\n            type: Function,\n        },\n        ftpUploadSite: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n    computed: {\n        exisistingDatasets() {\n            const elementsType = this.elementsType;\n            return (\n                elementsType === \"datasets\" ||\n                elementsType === \"collection_contents\" ||\n                elementsType === \"library_datasets\"\n            );\n        },\n        showFileTypeSelector() {\n            return !this.exisistingDatasets && !this.mappingAsDict.file_type;\n        },\n        showGenomeSelector() {\n            return !this.exisistingDatasets && !this.mappingAsDict.dbkey;\n        },\n        showCollectionNameInput() {\n            return (\n                this.importType == \"collections\" &&\n                this.elementsType != \"collection_contents\" &&\n                !this.mappingAsDict.collection_name\n            );\n        },\n        showAddNameTag() {\n            return this.importType == \"collections\" && this.elementsType != \"collection_contents\";\n        },\n        titleFinish() {\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                return _l(\"Create new collection from specified rules and datasets\");\n            } else if (this.elementsType == \"collection_contents\") {\n                return _l(\"Save rules and return to tool form\");\n            } else {\n                return _l(\"Upload collection using specified rules\");\n            }\n        },\n        titleCancel() {\n            if (this.importType == \"datasets\") {\n                return _l(\"Close this modal and do not upload any datasets\");\n            } else {\n                return _l(\"Close this modal and do not create any collections\");\n            }\n        },\n        finishButtonTitle() {\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                return _l(\"Create\");\n            } else if (this.elementsType == \"collection_contents\") {\n                return _l(\"Save\");\n            } else {\n                return _l(\"Upload\");\n            }\n        },\n        hasActiveMappingEdit() {\n            const has = _.any(_.values(this.mapping), (mapping) => mapping.editing);\n            return has;\n        },\n        activeRule() {\n            return this.activeRuleIndex !== null && this.rules[this.activeRuleIndex];\n        },\n        activeRuleColHeaders() {\n            const rulesHeaders = this.activeRuleIndex !== null && this.colHeadersPerRule[this.activeRuleIndex];\n            return rulesHeaders || this.colHeaders;\n        },\n        horizontal() {\n            return this.orientation == \"horizontal\";\n        },\n        vertical() {\n            return this.orientation == \"vertical\";\n        },\n        mappedTargets() {\n            const targets = [];\n            for (const mapping of this.mapping) {\n                targets.push(mapping.type);\n            }\n            return targets;\n        },\n        unmappedTargets() {\n            const targets = [];\n            const mappedTargets = this.mappedTargets;\n            for (const target in MAPPING_TARGETS) {\n                const targetModes = MAPPING_TARGETS[target].modes;\n\n                if (targetModes && targetModes.indexOf(this.elementsType) < 0) {\n                    continue;\n                }\n\n                const targetDefinition = MAPPING_TARGETS[target];\n                const targetImportType = targetDefinition.importType;\n                if (targetImportType && this.importType != targetImportType) {\n                    continue;\n                }\n                if (!this.ftpUploadSite && targetDefinition.requiresFtp) {\n                    continue;\n                }\n                if (mappedTargets.indexOf(target) < 0) {\n                    targets.push(target);\n                }\n            }\n            return targets;\n        },\n        colHeaders() {\n            const { data, columns } = this.hotData;\n            return RuleDefs.colHeadersFor(data, columns);\n        },\n        colHeadersDisplay() {\n            const formattedHeaders = [];\n            for (const colIndex in this.colHeaders) {\n                const colHeader = this.colHeaders[colIndex];\n                formattedHeaders[colIndex] = `<b>${_.escape(colHeader)}</b>`;\n                const mappingDisplay = [];\n                for (const mapping of this.mapping) {\n                    if (mapping.columns.indexOf(parseInt(colIndex)) !== -1) {\n                        const mappingDef = MAPPING_TARGETS[mapping.type];\n                        mappingDisplay.push(`<i>${_.escape(mappingDef.columnHeader || mappingDef.label)}</i>`);\n                    }\n                }\n                if (mappingDisplay.length == 1) {\n                    formattedHeaders[colIndex] += ` (${mappingDisplay[0]})`;\n                } else if (mappingDisplay.length > 1) {\n                    formattedHeaders[colIndex] += ` (${[\n                        mappingDisplay.slice(0, -1).join(\", \"),\n                        mappingDisplay.slice(-1)[0],\n                    ].join(\" & \")})`;\n                }\n            }\n            return formattedHeaders;\n        },\n        mappingAsDict() {\n            const asDict = {};\n            for (const mapping of this.mapping) {\n                asDict[mapping.type] = mapping;\n            }\n            return asDict;\n        },\n        metadataOptions() {\n            let metadataOptions = {};\n            if (this.elementsType == \"collection_contents\") {\n                let collectionType;\n                if (this.initialElements) {\n                    collectionType = this.initialElements.collection_type;\n                } else {\n                    // give a bunch of different options if not constrained with given input\n                    collectionType = \"list:list:list:paired\";\n                }\n                const collectionTypeRanks = collectionType.split(\":\");\n                for (const index in collectionTypeRanks) {\n                    const collectionTypeRank = collectionTypeRanks[index];\n                    if (collectionTypeRank == \"list\") {\n                        // TODO: drop the numeral at the end if only flat list\n                        metadataOptions[\"identifier\" + index] = _l(\"List Identifier \") + (parseInt(index) + 1);\n                    } else {\n                        metadataOptions[\"identifier\" + index] = _l(\"Paired Identifier\");\n                    }\n                }\n                metadataOptions[\"tags\"] = _l(\"Tags\");\n            } else if (this.elementsType == \"ftp\") {\n                metadataOptions[\"path\"] = _l(\"Path\");\n            } else if (this.elementsType == \"library_datasets\") {\n                metadataOptions[\"name\"] = _l(\"Name\");\n            } else if (this.elementsType == \"datasets\") {\n                metadataOptions[\"hid\"] = _l(\"History ID (hid)\");\n                metadataOptions[\"name\"] = _l(\"Name\");\n            } else {\n                metadataOptions = null;\n            }\n            return metadataOptions;\n        },\n        hasTagsMetadata() {\n            // TODO: allow for dataset, library_datasets also - here and just above in metadataOptions.\n            return this.elementsType == \"collection_contents\";\n        },\n        collectionType() {\n            let identifierColumns = [];\n            if (this.mappingAsDict.list_identifiers) {\n                identifierColumns = this.mappingAsDict.list_identifiers.columns;\n            }\n            let collectionType = identifierColumns.map((col) => \"list\").join(\":\");\n            if (this.mappingAsDict.paired_identifier) {\n                if (collectionType) {\n                    collectionType += \":paired\";\n                } else {\n                    collectionType = \"paired\";\n                }\n            }\n            return collectionType;\n        },\n        validInput() {\n            const identifierColumns = this.identifierColumns();\n            const mappingAsDict = this.mappingAsDict;\n            const buildingCollection = this.importType == \"collections\";\n            const requiresName =\n                buildingCollection && this.elementsType != \"collection_contents\" && !mappingAsDict.collection_name;\n\n            let valid = true;\n            if (requiresName) {\n                valid = this.collectionName.length > 0;\n            }\n\n            if (mappingAsDict.ftp_path && mappingAsDict.url) {\n                // Can only specify one of these.\n                valid = false;\n            }\n\n            const requiresSourceColumn = this.elementsType == \"ftp\" || this.elementsType == \"raw\";\n            if (requiresSourceColumn && !mappingAsDict.ftp_path && !mappingAsDict.url) {\n                valid = false;\n            }\n            for (const rule of this.rules) {\n                if (rule.error) {\n                    valid = false;\n                }\n            }\n\n            if (buildingCollection && identifierColumns.length == 0) {\n                valid = false;\n            }\n            return valid;\n        },\n        hotData() {\n            let data;\n            let sources;\n            let columns;\n            if (\n                this.elementsType == \"datasets\" ||\n                this.elementsType == \"library_datasets\" ||\n                this.elementsType == \"ftp\"\n            ) {\n                sources = this.initialElements.slice();\n                data = sources.map((el) => []);\n                columns = [];\n            } else if (this.elementsType == \"collection_contents\") {\n                const collection = this.initialElements;\n                if (collection) {\n                    const obj = this.populateElementsFromCollectionDescription(\n                        collection.elements,\n                        collection.collection_type\n                    );\n                    data = obj.data;\n                    sources = obj.sources;\n                    columns = [];\n                } else {\n                    data = [];\n                    sources = [];\n                    columns = [];\n                }\n            } else {\n                data = this.initialElements.slice();\n                sources = data.map((el) => null);\n                columns = [];\n                if (this.initialElements) {\n                    this.initialElements[0].forEach(() => columns.push(\"new\"));\n                }\n            }\n            return RuleDefs.applyRules(data, sources, columns, this.rules);\n        },\n        colHeadersPerRule() {\n            return this.hotData.colHeadersPerRule;\n        },\n    },\n    methods: {\n        l(str) {\n            // _l conflicts private methods of Vue internals, expose as l instead\n            return _l(str);\n        },\n        cancel() {\n            this.oncancel();\n        },\n        mappingTargets() {\n            return MAPPING_TARGETS;\n        },\n        resetRules() {\n            this.rules.splice(0, this.rules.length);\n            this.mapping.splice(0, this.mapping.length);\n        },\n        resetRulesAndState() {\n            this.resetRules();\n            this.state = \"build\";\n            this.errorMessage = \"\";\n            this.collectionName = \"\";\n        },\n        addNewRule(ruleType) {\n            RULES[ruleType].init(this);\n            this.displayRuleType = ruleType;\n            this.activeRuleIndex = null;\n        },\n        handleRuleSave(ruleType) {\n            const rule = this.activeRule;\n            if (rule) {\n                RULES[ruleType].save(this, rule);\n            } else {\n                const rule = { type: ruleType };\n                RULES[ruleType].save(this, rule);\n                this.rules.push(rule);\n            }\n        },\n        viewSource() {\n            this.resetSource();\n            this.ruleView = \"source\";\n        },\n        resetSource() {\n            const replacer = function (key, value) {\n                if (key == \"error\" || key == \"warn\") {\n                    return undefined;\n                }\n                return value;\n            };\n            const asJson = {\n                rules: this.rules,\n                mapping: this.mapping,\n            };\n            if (!this.exisistingDatasets) {\n                if (this.extension !== UploadUtils.DEFAULT_EXTENSION) {\n                    asJson.extension = this.extension;\n                }\n                if (this.genome !== UploadUtils.DEFAULT_GENOME) {\n                    asJson.genome = this.genome;\n                }\n            }\n            this.ruleSourceJson = asJson;\n            this.ruleSource = JSON.stringify(asJson, replacer, \"  \");\n            this.ruleSourceError = null;\n        },\n        attemptRulePreview() {\n            // Leave source mode if rules are valid and view.\n            this.ruleSourceError = null;\n            let asJson;\n            try {\n                asJson = JSON.parse(this.ruleSource);\n            } catch (error) {\n                this.ruleSourceError = \"Problem parsing your rules.\";\n                return;\n            }\n            this.updateFromSource(asJson);\n            this.ruleView = \"normal\";\n        },\n        cancelSourceEdit() {\n            this.ruleSourceError = null;\n            this.ruleView = \"normal\";\n        },\n        updateFromSource(asJson) {\n            this.resetRules();\n            if (asJson.extension) {\n                this.extension = asJson.extension;\n            }\n            if (asJson.genome) {\n                this.genome = asJson.genome;\n            }\n            if (asJson.rules) {\n                this.rules = asJson.rules;\n            }\n            if (asJson.mapping) {\n                this.mapping = asJson.mapping;\n            }\n        },\n        addIdentifier(identifier) {\n            const multiple = this.mappingTargets()[identifier].multiple;\n            // If multiple selection, pop open a new column selector in edit mode.\n            const initialColumns = multiple ? [] : [0];\n            this.mapping.push({ type: identifier, columns: initialColumns, editing: multiple });\n        },\n        editRule(rule, index) {\n            const ruleType = rule.type;\n            this.activeRuleIndex = index;\n            RULES[ruleType].init(this, rule);\n            this.displayRuleType = ruleType;\n        },\n        removeRule(index) {\n            this.rules.splice(index, 1);\n        },\n        removeMapping(index) {\n            this.mapping.splice(index, 1);\n        },\n        refreshAndWait(response) {\n            const Galaxy = getGalaxyInstance();\n            if (Galaxy && Galaxy.currHistoryPanel) {\n                Galaxy.currHistoryPanel.refreshContents();\n            }\n            this.waitOnJob(response);\n        },\n        waitOnJob(response) {\n            const jobId = response.data.jobs[0].id;\n            const handleJobShow = (jobResponse) => {\n                const state = jobResponse.data.state;\n                this.waitingJobState = state;\n                if (JobStatesModel.NON_TERMINAL_STATES.indexOf(state) !== -1) {\n                    setTimeout(doJobCheck, 1000);\n                } else if (JobStatesModel.ERROR_STATES.indexOf(state) !== -1) {\n                    this.state = \"error\";\n                    this.errorMessage =\n                        \"Unknown error encountered while running your upload job, this could be a server issue or a problem with the upload definition.\";\n                    this.doFullJobCheck(jobId);\n                } else {\n                    const Galaxy = getGalaxyInstance();\n                    const history = Galaxy && Galaxy.currHistoryPanel && Galaxy.currHistoryPanel.model;\n                    history.refresh();\n                    this.oncreate();\n                }\n            };\n            const doJobCheck = () => {\n                axios.get(`${getAppRoot()}api/jobs/${jobId}`).then(handleJobShow).catch(this.renderFetchError);\n            };\n            setTimeout(doJobCheck, 1000);\n        },\n        doFullJobCheck(jobId) {\n            const handleJobShow = (jobResponse) => {\n                const stderr = jobResponse.data.stderr;\n                if (stderr) {\n                    let errorMessage = \"An error was encountered while running your upload job. \";\n                    if (stderr.indexOf(\"binary file contains inappropriate content\") > -1) {\n                        errorMessage +=\n                            \"The problem may be that the batch uploader will not automatically decompress your files the way the normal uploader does, please specify a correct extension or upload decompressed data.\";\n                    }\n                    errorMessage += \"Upload job completed with standard error: \" + stderr;\n                    this.errorMessage = errorMessage;\n                }\n            };\n            axios.get(`${getAppRoot()}api/jobs/${jobId}?full=True`).then(handleJobShow).catch(this.renderFetchError);\n        },\n        renderFetchError(error) {\n            this.state = \"error\";\n            if (error.response) {\n                console.log(error.response);\n                this.errorMessage = error.response.data.err_msg;\n            } else {\n                console.log(error);\n                this.errorMessage = \"Unknown error encountered: \" + error;\n            }\n        },\n        swapOrientation() {\n            this.orientation = this.orientation == \"horizontal\" ? \"vertical\" : \"horizontal\";\n            const hotTable = this.$refs.hotTable.table;\n            if (this.orientation == \"horizontal\") {\n                this.$nextTick(function () {\n                    const fullWidth = $(\".rule-builder-body\").width();\n                    hotTable.updateSettings({\n                        width: fullWidth,\n                    });\n                });\n            } else {\n                this.$nextTick(function () {\n                    const fullWidth = $(\".rule-builder-body\").width();\n                    hotTable.updateSettings({\n                        width: fullWidth - 270,\n                    });\n                });\n            }\n        },\n        createCollection() {\n            this.state = \"wait\";\n            const name = this.collectionName;\n            const collectionType = this.collectionType;\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                const elements = this.creationElementsFromDatasets();\n                if (this.state !== \"error\") {\n                    new AjaxQueue.AjaxQueue(\n                        _.map(elements, (elements, name) => {\n                            return () => {\n                                const response = this.creationFn(elements, collectionType, name, this.hideSourceItems);\n                                return response;\n                            };\n                        })\n                    )\n                        .done(this.oncreate)\n                        .fail(this.renderFetchError);\n                }\n            } else if (this.elementsType == \"collection_contents\") {\n                this.resetSource();\n                if (this.state !== \"error\") {\n                    this.saveRulesFn(this.ruleSourceJson);\n                    this.oncreate();\n                }\n            } else {\n                const Galaxy = getGalaxyInstance();\n                const historyId = Galaxy.currHistoryPanel.model.id;\n                let elements;\n                let targets;\n                if (collectionType) {\n                    targets = [];\n                    const elementsByCollectionName = this.creationElementsForFetch();\n                    for (const collectionName in elementsByCollectionName) {\n                        const target = {\n                            destination: { type: \"hdca\" },\n                            elements: elementsByCollectionName[collectionName],\n                            collection_type: collectionType,\n                            name: collectionName,\n                        };\n                        if (this.addNameTag) {\n                            target[\"tags\"] = [\"name:\" + collectionName];\n                        }\n                        targets.push(target);\n                    }\n                } else {\n                    elements = this.creationDatasetsForFetch();\n                    targets = [\n                        {\n                            destination: { type: \"hdas\" },\n                            elements: elements,\n                            name: name,\n                        },\n                    ];\n                }\n\n                if (this.state !== \"error\") {\n                    axios\n                        .post(`${getAppRoot()}api/tools/fetch`, {\n                            history_id: historyId,\n                            targets: targets,\n                            auto_decompress: true,\n                        })\n                        .then(this.refreshAndWait)\n                        .catch(this.renderFetchError);\n                }\n            }\n        },\n        identifierColumns() {\n            const mappingAsDict = this.mappingAsDict;\n            let identifierColumns = [];\n            if (mappingAsDict.list_identifiers) {\n                identifierColumns = mappingAsDict.list_identifiers.columns.slice();\n            }\n            if (this.mappingAsDict.paired_identifier) {\n                identifierColumns.push(this.mappingAsDict.paired_identifier.columns[0]);\n            }\n            return identifierColumns;\n        },\n        buildRequestElements(createDatasetDescription, createSubcollectionDescription, subElementProp) {\n            const data = this.hotData.data;\n            const identifierColumns = this.identifierColumns();\n            if (identifierColumns.length < 1) {\n                console.log(\"Error but this shouldn't have happened, create button should have been disabled.\");\n                return;\n            }\n\n            const numIdentifierColumns = identifierColumns.length;\n            const collectionType = this.collectionType;\n            const elementsByName = {};\n\n            const dataByCollection = {};\n            const collectionNameMap = this.mappingAsDict.collection_name;\n            if (collectionNameMap) {\n                const collectionNameTarget = collectionNameMap.columns[0];\n                for (const dataIndex in data) {\n                    const row = data[dataIndex];\n                    const name = row[collectionNameTarget];\n                    if (!dataByCollection[name]) {\n                        dataByCollection[name] = {};\n                    }\n                    dataByCollection[name][dataIndex] = row;\n                }\n            } else {\n                // use global collection name from the form.\n                dataByCollection[this.collectionName] = data;\n            }\n\n            for (const collectionName in dataByCollection) {\n                const elements = [];\n                const identifiers = [];\n\n                for (const dataIndex in dataByCollection[collectionName]) {\n                    const rowData = data[dataIndex];\n\n                    // For each row, find place in depth for this element.\n                    let collectionTypeAtDepth = collectionType;\n                    let elementsAtDepth = elements;\n                    let identifiersAtDepth = identifiers;\n\n                    for (\n                        let identifierColumnIndex = 0;\n                        identifierColumnIndex < numIdentifierColumns;\n                        identifierColumnIndex++\n                    ) {\n                        // typeof indicates identifier is a string, but the raw string value coming from this data\n                        // structure sometimes does not work as expected with indexOf below, I don't understand why\n                        // but as a result this cast here seems needed.\n                        let identifier = String(rowData[identifierColumns[identifierColumnIndex]]);\n                        if (identifierColumnIndex + 1 == numIdentifierColumns) {\n                            // At correct final position in nested structure for this dataset.\n                            if (collectionTypeAtDepth === \"paired\") {\n                                if ([\"f\", \"1\", \"r1\", \"forward\"].indexOf(identifier.toLowerCase()) > -1) {\n                                    identifier = \"forward\";\n                                } else if ([\"r\", \"2\", \"r2\", \"reverse\"].indexOf(identifier.toLowerCase()) > -1) {\n                                    identifier = \"reverse\";\n                                } else {\n                                    this.state = \"error\";\n                                    this.errorMessage =\n                                        \"Unknown indicator of paired status encountered - only values of F, R, 1, 2, R1, R2, forward, or reverse are allowed.\";\n                                    return;\n                                }\n                            }\n                            const element = createDatasetDescription(dataIndex, identifier);\n                            elementsAtDepth.push(element);\n                            if (identifiersAtDepth.indexOf(identifier) >= 0) {\n                                this.state = \"error\";\n                                this.errorMessage =\n                                    \"Duplicate identifiers detected, collection identifiers must be unique.\";\n                                return;\n                            }\n                            identifiersAtDepth.push(identifier);\n                        } else {\n                            // Create nesting for this element.\n                            collectionTypeAtDepth = collectionTypeAtDepth.split(\":\").slice(1).join(\":\");\n                            let found = false;\n                            for (const element of elementsAtDepth) {\n                                if (element[\"name\"] == identifier) {\n                                    elementsAtDepth = element[subElementProp];\n                                    identifiersAtDepth = identifiersAtDepth[identifier];\n                                    found = true;\n                                    break;\n                                }\n                            }\n                            if (!found) {\n                                const subcollection = createSubcollectionDescription(identifier);\n                                elementsAtDepth.push(subcollection);\n                                identifiersAtDepth[identifier] = [];\n                                const childCollectionElements = [];\n                                subcollection[subElementProp] = childCollectionElements;\n                                subcollection.collection_type = collectionTypeAtDepth;\n                                elementsAtDepth = childCollectionElements;\n                                identifiersAtDepth = identifiersAtDepth[identifier];\n                            }\n                        }\n                    }\n                }\n\n                elementsByName[collectionName] = elements;\n            }\n\n            return elementsByName;\n        },\n        creationElementsFromDatasets() {\n            const { sources, data } = this.hotData;\n            const mappingAsDict = this.mappingAsDict;\n\n            const elementsByCollectionName = this.buildRequestElements(\n                (dataIndex, identifier) => {\n                    const source = sources[dataIndex];\n                    const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                    const src = this.elementsType == \"datasets\" ? \"hda\" : \"ldda\";\n                    return { id: source[\"id\"], name: identifier, src: src, tags: res.tags };\n                },\n                (identifier) => {\n                    return { name: identifier, src: \"new_collection\" };\n                },\n                \"element_identifiers\"\n            );\n            return elementsByCollectionName;\n        },\n        creationElementsForFetch() {\n            // fetch elements for HDCA\n            const data = this.hotData.data;\n            const mappingAsDict = this.mappingAsDict;\n\n            const elementsByCollectionName = this.buildRequestElements(\n                (dataIndex, identifier) => {\n                    const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                    res[\"name\"] = identifier;\n                    return res;\n                },\n                (identifier) => {\n                    return { name: identifier };\n                },\n                \"elements\"\n            );\n\n            return elementsByCollectionName;\n        },\n        creationDatasetsForFetch() {\n            // fetch elements for HDAs if not collection information specified.\n            const data = this.hotData.data;\n            const mappingAsDict = this.mappingAsDict;\n\n            const datasets = [];\n\n            for (const dataIndex in data) {\n                const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                datasets.push(res);\n            }\n\n            return datasets;\n        },\n        populateElementsFromCollectionDescription(elements, collectionType, parentIdentifiers_) {\n            const parentIdentifiers = parentIdentifiers_ ? parentIdentifiers_ : [];\n            let data = [];\n            let sources = [];\n            for (const element of elements) {\n                const elementObject = element.object;\n                const identifiers = parentIdentifiers.concat([element.element_identifier]);\n                const collectionTypeLevelSepIndex = collectionType.indexOf(\":\");\n                if (collectionTypeLevelSepIndex === -1) {\n                    // Flat collection at this depth.\n                    // sources are the elements\n                    data.push([]);\n                    const source = { identifiers: identifiers, dataset: elementObject, tags: elementObject.tags };\n                    sources.push(source);\n                } else {\n                    const restCollectionType = collectionType.slice(collectionTypeLevelSepIndex + 1);\n                    const elementObj = this.populateElementsFromCollectionDescription(\n                        elementObject.elements,\n                        restCollectionType,\n                        identifiers\n                    );\n                    const elementData = elementObj.data;\n                    const elementSources = elementObj.sources;\n                    data = data.concat(elementData);\n                    sources = sources.concat(elementSources);\n                }\n            }\n            return { data, sources };\n        },\n        highlightColumn(n) {\n            const headerSelection = $(`.htCore > thead > tr > th:nth-child(${n + 1})`);\n            headerSelection.addClass(\"ht__highlight\");\n            const bodySelection = $(`.htCore > tbody > tr > td:nth-child(${n + 1})`);\n            bodySelection.addClass(\"rule-highlight\");\n        },\n        unhighlightColumn(n) {\n            const headerSelection = $(`.htCore > thead > tr > th:nth-child(${n + 1})`);\n            headerSelection.removeClass(\"ht__highlight\");\n            const bodySelection = $(`.htCore > tbody > tr > td:nth-child(${n + 1})`);\n            bodySelection.removeClass(\"rule-highlight\");\n        },\n        _datasetFor(dataIndex, data, mappingAsDict) {\n            const res = {};\n            if (mappingAsDict.url) {\n                const urlColumn = mappingAsDict.url.columns[0];\n                let url = data[dataIndex][urlColumn];\n                if (url.indexOf(\"://\") == -1) {\n                    // special case columns containing SRA links. EBI serves these a lot\n                    // faster over FTP.\n                    if (url.indexOf(\"ftp.sra.\") !== -1) {\n                        url = \"ftp://\" + url;\n                    } else {\n                        url = \"http://\" + url;\n                    }\n                }\n                res[\"url\"] = url;\n                res[\"src\"] = \"url\";\n            } else if (mappingAsDict.ftp_path) {\n                const ftpPathColumn = mappingAsDict.ftp_path.columns[0];\n                const ftpPath = data[dataIndex][ftpPathColumn];\n                res[\"ftp_path\"] = ftpPath;\n                res[\"src\"] = \"ftp_import\";\n            }\n            if (mappingAsDict.dbkey) {\n                const dbkeyColumn = mappingAsDict.dbkey.columns[0];\n                const dbkey = data[dataIndex][dbkeyColumn];\n                res[\"dbkey\"] = dbkey;\n            } else if (this.genome) {\n                res[\"dbkey\"] = this.genome;\n            }\n            if (mappingAsDict.file_type) {\n                const fileTypeColumn = mappingAsDict.file_type.columns[0];\n                const fileType = data[dataIndex][fileTypeColumn];\n                res[\"ext\"] = fileType;\n            } else if (this.extension) {\n                res[\"ext\"] = this.extension;\n            }\n            if (mappingAsDict.name) {\n                const nameColumn = mappingAsDict.name.columns[0];\n                const name = data[dataIndex][nameColumn];\n                res[\"name\"] = name;\n            }\n            if (mappingAsDict.info) {\n                const infoColumn = mappingAsDict.info.columns[0];\n                const info = data[dataIndex][infoColumn];\n                res[\"info\"] = info;\n            }\n            const tags = [];\n            if (mappingAsDict.tags) {\n                const tagColumns = mappingAsDict.tags.columns;\n                for (const tagColumn of tagColumns) {\n                    const tag = data[dataIndex][tagColumn];\n                    tags.push(tag);\n                }\n            }\n            if (mappingAsDict.group_tags) {\n                const groupTagColumns = mappingAsDict.group_tags.columns;\n                for (const groupTagColumn of groupTagColumns) {\n                    const tag = data[dataIndex][groupTagColumn];\n                    tags.push(\"group:\" + tag);\n                }\n            }\n            if (mappingAsDict.name_tag) {\n                const nameTagColumn = mappingAsDict.name_tag.columns[0];\n                const nameTag = data[dataIndex][nameTagColumn];\n                tags.push(\"name:\" + nameTag);\n            }\n            if (tags.length > 0) {\n                res[\"tags\"] = tags;\n            }\n            return res;\n        },\n    },\n    created() {\n        if (this.elementsType !== \"collection_contents\") {\n            let columnCount = null;\n            if (this.elementsType == \"datasets\") {\n                for (const element of this.initialElements) {\n                    if (element.history_content_type == \"dataset_collection\") {\n                        this.errorMessage =\n                            \"This component can only be used with datasets, you have specified one or more collections.\";\n                        this.state = \"error\";\n                    }\n                }\n            } else {\n                for (const row of this.initialElements) {\n                    if (columnCount == null) {\n                        columnCount = row.length;\n                    } else {\n                        if (columnCount != row.length) {\n                            this.jaggedData = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            UploadUtils.getUploadDatatypes(\n                (extensions) => {\n                    this.extensions = extensions;\n                    this.extension = UploadUtils.DEFAULT_EXTENSION;\n                },\n                false,\n                UploadUtils.AUTO_EXTENSION\n            );\n            UploadUtils.getUploadGenomes((genomes) => {\n                this.genomes = genomes;\n                this.genome = UploadUtils.DEFAULT_GENOME;\n            }, UploadUtils.DEFAULT_GENOME);\n        }\n    },\n    watch: {\n        addColumnRegexType: function (val) {\n            if (val == \"groups\") {\n                this.addColumnRegexGroupCount = 1;\n            }\n            if (val == \"replacement\") {\n                this.addColumnRegexReplacement = \"\\0\";\n            }\n        },\n    },\n    components: {\n        HotTable,\n        RuleComponent,\n        RuleTargetComponent,\n        RuleDisplay,\n        IdentifierDisplay,\n        ColumnSelector,\n        RegularExpressionInput,\n        StateDiv,\n        RuleModalHeader,\n        RuleModalMiddle,\n        RuleModalFooter,\n        Select2,\n    },\n};\n</script>\n\n<style src=\"../../../node_modules/handsontable/dist/handsontable.full.css\"></style>\n<style>\n.table-column {\n    width: 100%;\n    overflow: hidden;\n}\n.select2-container {\n    min-width: 60px;\n}\n.vertical #hot-table {\n    width: 100%;\n    overflow: hidden;\n    height: 400px;\n}\n.horizontal #hot-table {\n    width: 100%;\n    overflow: hidden;\n    height: 250px;\n}\n.rule-builder-body {\n    height: 400px;\n}\n.rule-column.vertical {\n    height: 400px;\n}\n.rule-column.horizontal {\n    height: 150px;\n}\n.rules-container-full {\n    width: 100%;\n    height: 400px;\n}\n.rules-container {\n    border: 1px dashed #ccc;\n    padding: 5px;\n}\n.rules-container-vertical {\n    width: 280px;\n    height: 400px;\n}\n.rules-container-horizontal {\n    width: 100%;\n    height: 150px;\n}\n.rules-container .title {\n    font-weight: bold;\n}\n.rule-summary {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.rule-edit-buttons {\n    margin: 5px;\n}\n.rules {\n    flex-grow: 1;\n    overflow-y: scroll;\n}\n.rule-source {\n    height: 400px;\n}\n.rules li {\n    list-style-type: circle;\n    list-style-position: inside;\n    padding: 5px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n.rule-column-selector li {\n    list-style-type: circle;\n    list-style-position: inside;\n    padding: 5px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n.rules .rule-error {\n    display: block;\n    margin-left: 10px;\n    font-style: italic;\n    color: red;\n}\n.rule-warning {\n    display: block;\n    margin-left: 10px;\n    font-style: italic;\n    color: #e28809;\n}\n.rule-summary .title {\n    font-size: 1.1em;\n}\n.rule-highlight {\n    font-style: italic;\n    font-weight: bold;\n}\n.rules-buttons {\n}\n.rule-footer-inputs label {\n    padding-left: 20px;\n    align-self: baseline;\n}\n.rule-footer-inputs .select2-container {\n    align-self: baseline;\n}\n.rule-footer-inputs {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    align-items: baseline;\n}\n.rule-footer-inputs input {\n    align-self: baseline;\n}\n.extension-select {\n    flex: 1;\n    max-width: 120px;\n    min-width: 60px;\n}\n.genome-select {\n    flex: 1;\n    max-width: 300px;\n    min-width: 120px;\n}\n.collection-name {\n    flex: 1;\n    min-width: 120px;\n    max-width: 500px;\n}\n.rule-footer-genome-group {\n    flex: 2;\n    display: flex;\n}\n.rule-footer-extension-group {\n    flex: 1;\n    display: flex;\n}\n.rule-footer-name-group {\n    flex: 3;\n    display: flex;\n    flex-direction: row-reverse;\n}\n.fa-edit,\n.fa-times,\n.fa-wrench {\n    cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleCollectionBuilder.vue?vue&type=template&id=ae888ac6&\"\nimport script from \"./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../../node_modules/handsontable/dist/handsontable.full.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Based on https://vuejs.org/v2/examples/select2.html but adapted to handle list values\n// with \"multiple: true\" set.\nimport $ from \"jquery\";\n\nexport default {\n    props: [\"options\", \"value\", \"placeholder\", \"containerClass\", \"enabled\"],\n    template: `<select><slot></slot></select>`,\n    mounted: function () {\n        const vm = this;\n        // TODO: refactor property list to objects that allow defaults and types\n        let enabled = this.enabled;\n        if (enabled === undefined) {\n            enabled = true;\n        }\n        const select2Options = {\n            data: this.options,\n            placeholder: this.placeholder,\n            allowClear: !!this.placeholder,\n            enable: enabled,\n            dropdownAutoWidth: true,\n        };\n        if (this.containerClass) {\n            select2Options.containerCssClass = this.containerClass;\n        }\n        $(this.$el)\n            // init select2\n            .select2(select2Options)\n            .val(this.value)\n            .trigger(\"change\")\n            // emit event on change.\n            .on(\"change\", function (event) {\n                vm.$emit(\"input\", event.val);\n            });\n    },\n    watch: {\n        value: function (value) {\n            // update value\n            $(this.$el).val(value);\n        },\n        options: function (options) {\n            // update options\n            $(this.$el).empty().select2({ data: options });\n        },\n        enabled: function (value) {\n            $(this.$el).select2(\"enable\", value);\n        },\n    },\n    destroyed: function () {\n        $(this.$el).off().select2(\"destroy\");\n    },\n};\n"],"sourceRoot":""}